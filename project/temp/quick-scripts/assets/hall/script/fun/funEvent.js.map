{"version":3,"sources":["funEvent.js"],"names":["handlers","funEvent","add","tag","event","handler","logFlag","fun","log","getSum","count","key","remove","dispatch","data","k","clearUp","module","exports"],"mappings":";;;;;;AAAA,IAAIA,WAAW,EAAf;;AAEA,IAAIC,WAAW;AACXC,OADW,eACNC,GADM,EACDC,KADC,EACMC,OADN,EACgC;AAAA,YAAjBC,OAAiB,uEAAP,KAAO;;AACvC,YAAIN,SAASG,GAAT,CAAJ,EAAmB;AACfI,gBAAIC,GAAJ,CAAQ,UAAR,EAAoB,+BAA+BL,GAAnD;AACA;AACH;AACDH,iBAASG,GAAT,IAAgB;AACZC,mBAAOA,KADK;AAEZC,qBAASA;AAFG,SAAhB;AAIA,YAAIC,OAAJ,EAAa;AACTC,gBAAIC,GAAJ,CAAQ,UAAR,EAAoB,mBAAmBL,GAAnB,GAAyBC,KAA7C;AACH;AACJ,KAbU;AAeXK,UAfW,oBAeD;AACN,YAAIC,QAAQ,CAAZ;AACA,aAAI,IAAMC,GAAV,IAAiBX,QAAjB,EAA2B;AACvBU;AACH;AACD,eAAOA,KAAP;AACH,KArBU;AAuBXE,UAvBW,kBAuBHT,GAvBG,EAuBmB;AAAA,YAAjBG,OAAiB,uEAAP,KAAO;;AAC1B,eAAON,SAASG,GAAT,CAAP;AACA,YAAIG,OAAJ,EAAa;AACTC,gBAAIC,GAAJ,CAAQ,UAAR,EAAoB,0BAA0BL,GAA9C;AACH;AACJ,KA5BU;AA8BXU,YA9BW,oBA8BDT,KA9BC,EA8BMU,IA9BN,EA8B6B;AAAA,YAAjBR,OAAiB,uEAAP,KAAO;;AACpC,aAAK,IAAMS,CAAX,IAAgBf,QAAhB,EAA0B;AACtB,gBAAIA,SAASe,CAAT,EAAYX,KAAZ,KAAsBA,KAA1B,EAAiC;AAC7B,oBAAIE,OAAJ,EAAa;AACTC,wBAAIC,GAAJ,CAAQ,UAAR,EAAoB,oBAAoBO,CAApB,GAAwBX,KAA5C,EAAmDU,IAAnD;AACH;AACDd,yBAASe,CAAT,EAAYV,OAAZ,CAAoBS,IAApB;AACH;AACJ;AACJ,KAvCU;AAyCXE,WAzCW,qBAyCA;AACPhB,mBAAW,EAAX;AACH;AA3CU,CAAf;;AA8CAiB,OAAOC,OAAP,GAAiBjB,QAAjB","file":"funEvent.js","sourceRoot":"../../../../../../assets/hall/script/fun","sourcesContent":["let handlers = {};\r\n\r\nlet funEvent = {\r\n    add (tag, event, handler, logFlag = false) {\r\n        if (handlers[tag]) {\r\n            fun.log(\"funEvent\", \"error: this tag has added \" + tag);\r\n            return;\r\n        }\r\n        handlers[tag] = {\r\n            event: event,\r\n            handler: handler,\r\n        };\r\n        if (logFlag) {\r\n            fun.log(\"funEvent\", \"add new event \" + tag + event);\r\n        }\r\n    },\r\n\r\n    getSum () {\r\n        let count = 0;\r\n        for(const key in handlers) {\r\n            count++;\r\n        }\r\n        return count;\r\n    },\r\n\r\n    remove (tag, logFlag = false) {\r\n        delete handlers[tag];\r\n        if (logFlag) {\r\n            fun.log(\"funEvent\", \"remove event success \" + tag);\r\n        }\r\n    },\r\n\r\n    dispatch (event, data, logFlag = false) {\r\n        for (const k in handlers) {\r\n            if (handlers[k].event === event) {\r\n                if (logFlag) {\r\n                    fun.log(\"funEvent\", \"dispatch event \" + k + event, data);\r\n                }\r\n                handlers[k].handler(data);\r\n            }\r\n        }\r\n    },\r\n\r\n    clearUp () {\r\n        handlers = {};\r\n    },\r\n};\r\n\r\nmodule.exports = funEvent;"]}
{"version":3,"sources":["TestLog.js"],"names":["TestLog","cc","Class","getDateString","d","Date","str","getHours","timeStr","length","getMinutes","getSeconds","getMilliseconds","spter","getFullYear","getMonth","getDate","log","YL","_isTestServer","backLog","console","call","js","formatStr","apply","arguments","stack","info","log2","warn","err","network","index","e","Error","lines","split","shift","result","i","substring","lineBreak","push","list","a","splitList","module","exports"],"mappings":"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","file":"TestLog.js","sourceRoot":"../../../../../../assets/hall/script/comm","sourcesContent":["/***\n *\n *\n * 日志打印 仅用于test\n *\n * 优先级为important > err > warn >info > log2 > log\n *\n * 使用时直接在代码中使用   cc.YH.log(\"str\");\n *\n *\n */\nvar TestLog = cc.Class({\n\n});\n\n\nTestLog.getDateString = function () {\n    var d = new Date();\n    var str =  d.getHours()+\"\";\n    var timeStr = \"\";\n    timeStr += (str.length==1 ? (\"0\"+str) : str) + \":\";\n\n    str = d.getMinutes()+\"\";\n    timeStr += (str.length==1 ? (\"0\"+str) : str) + \":\";\n\n    str = d.getSeconds()+\"\";\n    timeStr += (str.length==1 ? (\"0\"+str) : str) + \".\";\n\n    str = d.getMilliseconds()+\"\";\n    if( str.length==1 ) str = \"00\"+str;\n    if( str.length==2 ) str = \"0\"+str;\n    timeStr += str;\n    var spter = \"-\";\n    timeStr = \"[\" +d.getFullYear() +spter+ (d.getMonth() + 1) +spter+ d.getDate()+\"  \" + timeStr + \"]\";\n\n    return timeStr;\n};\n\n\nTestLog.log = function(){\n    if(!cc.YL._isTestServer){\n       return;\n    }\n    var backLog = cc.log || console.log ||  log;\n        backLog.call(this,\"%s\"+cc.js.formatStr.apply(cc,arguments),TestLog.getDateString(),this.stack(2));\n};\n\n\n\nTestLog.info = function () {\n    if(!cc.YL._isTestServer){\n        return;\n    }\n    var backLog = cc.log || console.log ||  log;\n        backLog.call(this,\"%c%s:\"+cc.js.formatStr.apply(cc,arguments),\"color:#00CD00;\",TestLog.getDateString(),this.stack(2));\n};\n\nTestLog.log2 = function () {\n    if(!cc.YL._isTestServer){\n        return;\n    }\n    var backLog = cc.log || console.log ||  log;\n        backLog.call(this,\"%c%s:\"+cc.js.formatStr.apply(cc,arguments),\"color:#A600F5;\",TestLog.getDateString(),this.stack(2));\n};\n\n\nTestLog.warn = function(){\n    if(!cc.YL._isTestServer){\n        return;\n    }\n    var backLog = cc.log || console.log ||  log;\n        backLog.call(this,\"%c%s:\"+cc.js.formatStr.apply(cc,arguments),\"color:#ee7700;\",TestLog.getDateString(),this.stack(2));\n};\n\nTestLog.err = function(){\n    if(!cc.YL._isTestServer){\n        return;\n    }\n    var backLog = cc.log || console.log ||  log;\n        backLog.call(this,\"%c%s:\"+cc.js.formatStr.apply(cc,arguments),\"color:red\",TestLog.getDateString(),this.stack(2));\n};\n//#5100FD\nTestLog.network = function () {\n    if(!cc.YL._isTestServer){\n        return;\n    }\n    var backLog = cc.log || console.log ||  log;\n        backLog.call(this, \"%c%s:\" + cc.js.formatStr.apply(cc, arguments), \"color:#5100FD\", TestLog.getDateString(),this.stack(2));\n};\nTestLog.stack = function (index) {\n    var e = new Error();\n    var lines = e.stack.split(\"\\n\");\n    lines.shift();\n    var result = [];\n    for(var i = 0; i < lines.length;i++){\n        lines[i] = lines[i].substring(7);\n        var lineBreak = lines[i].split(\" \");\n        if (lineBreak.length<2) {\n            result.push(lineBreak[0]);\n        } else {\n            result.push({[lineBreak[0]] : lineBreak[1]});\n        }\n    }\n    var list = [];\n    if(index <= result.length-1){\n        for(var a in result[index]){\n            list.push(a);\n        }\n    }\n    if( list.length > 0 ) {\n        var splitList = list[0].split(\".\");\n        if( splitList.length >= 2) {\n            return (\"[\"+splitList[0] + \".js    \" +\"    function:\"+splitList[1] + \"]\");\n        }\n    }\n    return \"\";\n};\n\n\n\ncc.YL = TestLog;\nmodule.exports = TestLog;\n"]}
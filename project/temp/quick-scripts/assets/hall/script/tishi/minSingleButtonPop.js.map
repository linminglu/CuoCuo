{"version":3,"sources":["minSingleButtonPop.js"],"names":["Audio","require","cc","Class","extends","Component","properties","btnOk","type","Node","default","btnOkLabel","Label","btnClose","contentLabel","init","data","okCb","closeCb","okBtnStr","string","contentStr","hideBtn","active","hideCloseBtn","hideOkBtn","onLoad","once","onBtnOkClick","onBtnCloseClick","onEnable","node","getComponent","Animation","play","playEffect","animState","destroy","bind"],"mappings":";;;;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO;AACHC,kBAAMN,GAAGO,IADN;AAEHC,qBAAS;AAFN,SADC;;AAMRC,oBAAY;AACRH,kBAAMN,GAAGU,KADD;AAERF,qBAAS;AAFD,SANJ;;AAWRG,kBAAU;AACNL,kBAAMN,GAAGO,IADH;AAENC,qBAAS;AAFH,SAXF;;AAgBRI,sBAAc;AACVN,kBAAMN,GAAGU,KADC;AAEVF,qBAAS;AAFC;AAhBN,KAHP;;AAyBLK,QAzBK,gBAyBAC,IAzBA,EAyBM;AACP,aAAKC,IAAL,GAAYD,KAAKC,IAAjB;AACA,aAAKC,OAAL,GAAeF,KAAKE,OAApB;AACA,YAAIF,KAAKG,QAAT,EAAmB;AACf,iBAAKR,UAAL,CAAgBS,MAAhB,GAAyBJ,KAAKG,QAA9B;AACH;AACD,YAAIH,KAAKK,UAAT,EAAqB;AACjB,iBAAKP,YAAL,CAAkBM,MAAlB,GAA2BJ,KAAKK,UAAhC;AACH;AACD,YAAIL,KAAKM,OAAT,EAAkB;AACd,iBAAKf,KAAL,CAAWgB,MAAX,GAAoB,KAApB;AACA,iBAAKV,QAAL,CAAcU,MAAd,GAAuB,KAAvB;AACH;AACD,YAAIP,KAAKQ,YAAT,EAAuB;AACnB,iBAAKX,QAAL,CAAcU,MAAd,GAAuB,KAAvB;AACH;AACD,YAAIP,KAAKS,SAAT,EAAoB;AAChB,iBAAKlB,KAAL,CAAWgB,MAAX,GAAoB,KAApB;AACH;AACJ,KA5CI;AA8CLG,UA9CK,oBA8CI;AACL,aAAKnB,KAAL,CAAWoB,IAAX,CAAgB,OAAhB,EAAyB,KAAKC,YAA9B,EAA4C,IAA5C;AACA,aAAKf,QAAL,CAAcc,IAAd,CAAmB,OAAnB,EAA4B,KAAKE,eAAjC,EAAkD,IAAlD;AACH,KAjDI;AAmDLC,YAnDK,sBAmDM;AACP,aAAKC,IAAL,CAAUC,YAAV,CAAuB9B,GAAG+B,SAA1B,EAAqCC,IAArC,CAA0C,cAA1C;AACH,KArDI;AAuDLN,gBAvDK,0BAuDU;AACX5B,cAAMmC,UAAN,CAAiB,MAAjB,EAAyB,kBAAzB;AACA,YAAIC,YAAY,KAAKL,IAAL,CAAUC,YAAV,CAAuB9B,GAAG+B,SAA1B,EAAqCC,IAArC,CAA0C,aAA1C,CAAhB;AACAE,kBAAUT,IAAV,CAAe,UAAf,EAA2B,YAAY;AACnC,gBAAI,KAAKV,IAAT,EAAe;AACX,qBAAKA,IAAL;AACH;AACD,iBAAKc,IAAL,CAAUM,OAAV;AACH,SAL0B,CAKzBC,IALyB,CAKpB,IALoB,CAA3B;AAMH,KAhEI;AAkELT,mBAlEK,6BAkEa;AACd7B,cAAMmC,UAAN,CAAiB,MAAjB,EAAyB,kBAAzB;AACA,YAAIC,YAAY,KAAKL,IAAL,CAAUC,YAAV,CAAuB9B,GAAG+B,SAA1B,EAAqCC,IAArC,CAA0C,aAA1C,CAAhB;AACAE,kBAAUT,IAAV,CAAe,UAAf,EAA2B,YAAY;AACnC,gBAAI,KAAKT,OAAT,EAAkB;AACd,qBAAKA,OAAL;AACH;AACD,iBAAKa,IAAL,CAAUM,OAAV;AACH,SAL0B,CAKzBC,IALyB,CAKpB,IALoB,CAA3B;AAMH;AA3EI,CAAT","file":"minSingleButtonPop.js","sourceRoot":"../../../../../../assets/hall/script/tishi","sourcesContent":["let Audio = require('Audio');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        btnOk: {\n            type: cc.Node,\n            default: null,\n        },\n\n        btnOkLabel: {\n            type: cc.Label,\n            default: null,\n        },\n\n        btnClose: {\n            type: cc.Node,\n            default: null,\n        },\n\n        contentLabel: {\n            type: cc.Label,\n            default: null,\n        },\n    },\n\n    init(data) {\n        this.okCb = data.okCb;\n        this.closeCb = data.closeCb;\n        if (data.okBtnStr) {\n            this.btnOkLabel.string = data.okBtnStr;\n        }\n        if (data.contentStr) {\n            this.contentLabel.string = data.contentStr;\n        }\n        if (data.hideBtn) {\n            this.btnOk.active = false;\n            this.btnClose.active = false;\n        }\n        if (data.hideCloseBtn) {\n            this.btnClose.active = false;\n        }\n        if (data.hideOkBtn) {\n            this.btnOk.active = false;\n        }\n    },\n\n    onLoad() {\n        this.btnOk.once('click', this.onBtnOkClick, this);\n        this.btnClose.once('click', this.onBtnCloseClick, this);\n    },\n\n    onEnable() {\n        this.node.getComponent(cc.Animation).play('popScaleAnim');\n    },\n\n    onBtnOkClick() {\n        Audio.playEffect('hall', 'button_nomal.mp3');\n        let animState = this.node.getComponent(cc.Animation).play('popScaleOut');\n        animState.once('finished', function () {\n            if (this.okCb) {\n                this.okCb();\n            }\n            this.node.destroy();\n        }.bind(this));\n    },\n\n    onBtnCloseClick() {\n        Audio.playEffect('hall', 'button_close.mp3');\n        let animState = this.node.getComponent(cc.Animation).play('popScaleOut');\n        animState.once('finished', function () {\n            if (this.closeCb) {\n                this.closeCb();\n            }\n            this.node.destroy();\n        }.bind(this));\n    },\n\n});\n"]}
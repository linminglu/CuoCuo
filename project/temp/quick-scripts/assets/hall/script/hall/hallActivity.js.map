{"version":3,"sources":["hallActivity.js"],"names":["cc","Class","extends","Component","properties","onLoad","bg","node","getChildByName","on","onBtnCloseClick","_leftBox","_rightBox","_menuNum","i","onActivityMenuShow","bind","animation","getComponent","Animation","clips","getClips","isApple","fun","gameCfg","releaseType","gameConst","apple","active","onEnable","play","name","count","require","playEffect","once","destroy"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAOLC,UAPK,oBAOK;AACN,YAAIC,KAAK,KAAKC,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAAT;AACAF,WAAGE,cAAH,CAAkB,UAAlB,EAA8BC,EAA9B,CAAiC,OAAjC,EAA0C,KAAKC,eAA/C,EAAgE,IAAhE;AACA,aAAKC,QAAL,GAAgBL,GAAGE,cAAH,CAAkB,SAAlB,CAAhB;AACA,aAAKI,SAAL,GAAiBN,GAAGE,cAAH,CAAkB,UAAlB,CAAjB;AACA,aAAKK,QAAL,GAAgB,CAAhB;AACA,aAAK,IAAIC,IAAE,CAAX,EAAcA,IAAE,KAAKD,QAArB,EAA+B,EAAEC,CAAjC,EAAoC;AAChC,iBAAKH,QAAL,CAAcH,cAAd,CAA6B,iBAAeM,IAAE,CAAjB,CAA7B,EAAkDL,EAAlD,CAAqD,OAArD,EAA8D,KAAKM,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B,EAAmCF,IAAE,CAArC,CAA9D;AACH;;AAED,aAAKG,SAAL,GAAiB,KAAKV,IAAL,CAAUW,YAAV,CAAuBlB,GAAGmB,SAA1B,CAAjB;AACA,aAAKC,KAAL,GAAa,KAAKH,SAAL,CAAeI,QAAf,EAAb;;AAEA,YAAIC,UAAUC,IAAIC,OAAJ,CAAYC,WAAZ,KAA4BC,UAAUD,WAAV,CAAsBE,KAAlD,GAA0D,IAA1D,GAAiE,KAA/E;AACA,YAAIL,OAAJ,EAAa;AACT,iBAAKX,QAAL,CAAcH,cAAd,CAA6B,cAA7B,EAA6CoB,MAA7C,GAAsD,KAAtD;AACH;AACJ,KAxBI;AA0BLC,YA1BK,sBA0BO;AACR,aAAKZ,SAAL,CAAea,IAAf,CAAoB,KAAKV,KAAL,CAAW,CAAX,EAAcW,IAAlC;AACH,KA5BI;AA8BLhB,sBA9BK,8BA8BeiB,KA9Bf,EA8BsB;AACvB,aAAI,IAAIlB,IAAE,CAAV,EAAaA,IAAE,KAAKD,QAApB,EAA8B,EAAEC,CAAhC,EAAkC;AAC9B,iBAAKH,QAAL,CAAcH,cAAd,CAA6B,iBAAeM,IAAE,CAAjB,CAA7B,EAAkDc,MAAlD,GAA2D,IAA3D;AACA,iBAAKjB,QAAL,CAAcH,cAAd,CAA6B,aAAWM,IAAE,CAAb,CAA7B,EAA8Cc,MAA9C,GAAuD,KAAvD;AACA,iBAAKhB,SAAL,CAAeJ,cAAf,CAA8B,aAAWM,IAAE,CAAb,CAA9B,EAA+Cc,MAA/C,GAAwD,KAAxD;AACH;AACD,aAAKjB,QAAL,CAAcH,cAAd,CAA6B,gBAAcwB,KAA3C,EAAkDJ,MAAlD,GAA2D,KAA3D;AACA,aAAKjB,QAAL,CAAcH,cAAd,CAA6B,YAAUwB,KAAvC,EAA8CJ,MAA9C,GAAuD,IAAvD;AACA,aAAKhB,SAAL,CAAeJ,cAAf,CAA8B,YAAUwB,KAAxC,EAA+CJ,MAA/C,GAAwD,IAAxD;AACH,KAvCI;AAyCLlB,mBAzCK,6BAyCc;AACfuB,gBAAQ,OAAR,EAAiBC,UAAjB,CAA4B,MAA5B,EAAoC,kBAApC;AACA,aAAKjB,SAAL,CAAea,IAAf,CAAoB,KAAKV,KAAL,CAAW,CAAX,EAAcW,IAAlC,EAAwCI,IAAxC,CAA6C,UAA7C,EAAyD,YAAY;AACjE,iBAAK5B,IAAL,CAAU6B,OAAV;AACH,SAFD,EAEG,IAFH;AAGH;AA9CI,CAAT","file":"hallActivity.js","sourceRoot":"../../../../../../assets/hall/script/hall","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n    },\n\n    onLoad () {\n        let bg = this.node.getChildByName('back');\n        bg.getChildByName('btnClose').on('click', this.onBtnCloseClick, this);\n        this._leftBox = bg.getChildByName('leftBox');\n        this._rightBox = bg.getChildByName('rightBox');\n        this._menuNum = 2;\n        for (let i=0; i<this._menuNum; ++i) {\n            this._leftBox.getChildByName('btnActivity'+(i+1)).on('click', this.onActivityMenuShow.bind(this, i+1));\n        }\n\n        this.animation = this.node.getComponent(cc.Animation);\n        this.clips = this.animation.getClips()\n\n        let isApple = fun.gameCfg.releaseType === gameConst.releaseType.apple ? true : false;\n        if (isApple) {\n            this._leftBox.getChildByName('btnActivity2').active = false;\n        }\n    },\n\n    onEnable () {\n        this.animation.play(this.clips[0].name);\n    },\n\n    onActivityMenuShow (count) {\n        for(let i=0; i<this._menuNum; ++i){\n            this._leftBox.getChildByName('btnActivity'+(i+1)).active = true;\n            this._leftBox.getChildByName('btnDown'+(i+1)).active = false;\n            this._rightBox.getChildByName('huodong'+(i+1)).active = false;\n        }\n        this._leftBox.getChildByName('btnActivity'+count).active = false;\n        this._leftBox.getChildByName('btnDown'+count).active = true;\n        this._rightBox.getChildByName('huodong'+count).active = true;\n    },\n\n    onBtnCloseClick () {\n        require('Audio').playEffect('hall', 'button_close.mp3');\n        this.animation.play(this.clips[1].name).once('finished', function () {\n            this.node.destroy();\n        }, this);\n    },\n});\n"]}
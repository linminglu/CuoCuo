{"version":3,"sources":["PukeUtils.js"],"names":["SanGongCfg","require","NiuNiuCfg","loadedRes","PukeUtils","pSub","pt1","pt2","x","y","pGetLength","pt","Math","sqrt","pow","pGetDistance","startP","endP","LoadRes","filepath","name","callback","cc","loader","loadRes","SpriteFrame","err","frame","error","message","sp","SkeletonData","res","buttonTouch","button","scale","initScale","func","scaleDownAction","scaleTo","scaleUpAction","touch","getChildByName","on","stopAllActions","runAction","sequence","callFunc","VerificationPhoneCode","phoneNumber","length","myreg","test","getLength","obj","count","value","hasOwnProperty","module","exports"],"mappings":"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","file":"PukeUtils.js","sourceRoot":"../../../../../../assets/poker/script/pukeUtils","sourcesContent":["let SanGongCfg = require(\"SanGongCfg\");\nlet NiuNiuCfg  = require(\"NiuNiuCfg\");\nlet loadedRes = {}; //缓存加载了的icon\n\nlet PukeUtils = {\n    pSub : function (pt1, pt2) {\n        return {x : pt1.x - pt2.x, y : pt1.y - pt2.y}\n    },\n\n    pGetLength : function (pt) {\n        return Math.sqrt(Math.pow(pt.x, 2) + Math.pow(pt.y, 2));\n    },\n\n    // 求两点之间的距离\n    pGetDistance : function (startP, endP) {\n        return this.pGetLength(this.pSub(startP, endP));\n    },\n\n    //--- 加载图片和Spine动画\n    LoadRes : function (filepath, name, callback) {\n        if (name === \"SpriteFrame\"){\n            cc.loader.loadRes(filepath, cc.SpriteFrame, function(err, frame){\n                if(err){\n                    cc.error(err.message || err);\n                    return;\n                }\n                callback(frame);\n            });\n        } else if (name === \"sp.SkeletonData\") {\n            cc.loader.loadRes(filepath, sp.SkeletonData, function(err, res){\n                if (err) {\n                    cc.error(err.message || err);\n                    return;\n                }\n                callback(res);\n            });\n        }\n    },\n\n    //--- 自定义按钮 Touch 放大缩小\n    buttonTouch : function (button, scale, initScale, func) {\n        let scaleDownAction = cc.scaleTo(0.1, scale);\n        let scaleUpAction   = cc.scaleTo(0.1, initScale);\n        let touch = button.getChildByName(\"touch\");\n        touch.on('touchstart', function(){\n            button.stopAllActions();\n            button.runAction(scaleDownAction);\n        });\n        touch.on('touchend', function(){\n            button.stopAllActions();\n            button.runAction(cc.sequence(scaleUpAction, cc.callFunc(function(){\n                func();\n            })));\n        });\n        touch.on('touchcancel', function(){\n            button.stopAllActions();\n            button.runAction(scaleUpAction);\n        });\n    },\n\n    // 判断手机是否合法\n    VerificationPhoneCode : function (phoneNumber) {\n        if(phoneNumber.length === 0){\n            return \"NO_NUMBER\";\n        }\n        let myreg = /^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\\d{8})$/;\n        if(phoneNumber.length === 11 && myreg.test(phoneNumber)){\n            return \"SUCCESS\";\n        } else {\n            return \"FAILED\";\n        }\n    },\n\n    // JS 获取 Map 长度, 加上一个 hasOwnProperty 判断过滤下原型中的属性就比较安全了\n    getLength : function (obj) {\n        let count = 0;\n        for(let value in obj){\n            if(obj.hasOwnProperty(value)){\n                count ++;\n            }\n        }\n        return count;\n    }\n};\n\nmodule.exports = PukeUtils;"]}
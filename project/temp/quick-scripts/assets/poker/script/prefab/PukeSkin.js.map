{"version":3,"sources":["PukeSkin.js"],"names":["PukeUtils","require","PukeData","PukeDefine","cc","Class","extends","Component","properties","Skin1","Sprite","Skin2","SkinChoose1","Node","SkinChoose2","SkinNumber","onLoad","initSkin","initSkinChoose","curSkin","getSkin","active","self","i","spriteName","BACKGROUND","LoadRes","frame","spriteFrame","onBtnSkinClicked","sender","num","setSkin","fun","event","dispatch","onBtnQuitClicked","playEffect","node"],"mappings":";;;;;;AAAA,IAAIA,YAAgBC,QAAQ,WAAR,CAApB;AACA,IAAIC,WAAgBD,QAAQ,UAAR,CAApB;AACA,IAAIE,aAAgBF,QAAQ,YAAR,CAApB;;AAEAG,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAiBL,GAAGM,MADZ;AAERC,eAAiBP,GAAGM,MAFZ;AAGRE,qBAAiBR,GAAGS,IAHZ;AAIRC,qBAAiBV,GAAGS,IAJZ;AAKRE,oBAAiB;AALT,KAHP;;AAWLC,YAAQ,kBAAY;AAChB,aAAKC,QAAL;AACA,aAAKC,cAAL;AACA,YAAIC,UAAUjB,SAASkB,OAAT,EAAd;AACA,aAAK,eAAaD,OAAlB,EAA2BE,MAA3B,GAAoC,IAApC;AACH,KAhBI;;AAkBLJ,cAAW,oBAAY;AACnB,YAAIK,OAAO,IAAX;;AADmB,mCAEVC,CAFU;AAGf,gBAAIC,aAAarB,WAAWsB,UAAX,CAAsBF,CAAtB,CAAjB;AACAvB,sBAAU0B,OAAV,CAAkBF,UAAlB,EAA8B,YAA9B,EAA4C,UAASG,KAAT,EAAe;AACvDL,qBAAK,UAAQC,IAAE,CAAV,CAAL,EAAmBK,WAAnB,GAAiCD,KAAjC;AACH,aAFD;AAJe;;AAEnB,aAAK,IAAIJ,IAAI,CAAb,EAAgBA,IAAI,KAAKR,UAAzB,EAAqCQ,GAArC,EAA0C;AAAA,kBAAjCA,CAAiC;AAKzC;AACJ,KA1BI;;AA4BLL,oBAAiB,0BAAY;AACzB,aAAK,IAAIK,IAAI,CAAb,EAAgBA,KAAK,KAAKR,UAA1B,EAAsCQ,GAAtC,EAA2C;AACvC,iBAAK,eAAaA,CAAlB,EAAqBF,MAArB,GAA8B,KAA9B;AACH;AACJ,KAhCI;;AAkCLQ,sBAAmB,0BAAUC,MAAV,EAAkBC,GAAlB,EAAuB;AACtC,aAAKb,cAAL;AACA,aAAK,eAAaa,GAAlB,EAAuBV,MAAvB,GAAgC,IAAhC;AACAnB,iBAAS8B,OAAT,CAAiBD,GAAjB;AACAE,YAAIC,KAAJ,CAAUC,QAAV,CAAmB,UAAnB,EAA+BJ,GAA/B;AACH,KAvCI;;AAyCLK,sBAAmB,4BAAY;AAC3BnC,gBAAQ,OAAR,EAAiBoC,UAAjB,CAA4B,MAA5B,EAAoC,kBAApC;AACA,aAAKC,IAAL,CAAUjB,MAAV,GAAmB,KAAnB;AACH;AA5CI,CAAT","file":"PukeSkin.js","sourceRoot":"../../../../../../assets/poker/script/prefab","sourcesContent":["let PukeUtils     = require(\"PukeUtils\");\r\nlet PukeData      = require(\"PukeData\");\r\nlet PukeDefine    = require(\"PukeDefine\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        Skin1          : cc.Sprite,\r\n        Skin2          : cc.Sprite,\r\n        SkinChoose1    : cc.Node,\r\n        SkinChoose2    : cc.Node,\r\n        SkinNumber     : 2,\r\n    },\r\n\r\n    onLoad: function () {\r\n        this.initSkin();\r\n        this.initSkinChoose();\r\n        let curSkin = PukeData.getSkin();\r\n        this[\"SkinChoose\"+curSkin].active = true;\r\n    },\r\n\r\n    initSkin : function () {\r\n        let self = this;\r\n        for (let i = 0; i < this.SkinNumber; i++) {\r\n            let spriteName = PukeDefine.BACKGROUND[i];\r\n            PukeUtils.LoadRes(spriteName, \"SpriteName\", function(frame){\r\n                self[\"Skin\"+(i+1)].spriteFrame = frame;\r\n            });\r\n        }\r\n    },\r\n\r\n    initSkinChoose : function () {\r\n        for (let i = 1; i <= this.SkinNumber; i++) {\r\n            this[\"SkinChoose\"+i].active = false;\r\n        }\r\n    },\r\n\r\n    onBtnSkinClicked : function (sender, num) {\r\n        this.initSkinChoose();\r\n        this[\"SkinChoose\"+num].active = true;\r\n        PukeData.setSkin(num);\r\n        fun.event.dispatch('PukeSkin', num);\r\n    },\r\n\r\n    onBtnQuitClicked : function () {\r\n        require('Audio').playEffect('hall', 'button_close.mp3');\r\n        this.node.active = false;\r\n    }\r\n});\r\n"]}
{"version":3,"sources":["../../../../../../../assets/mahjong/script/wahua/common/assets/mahjong/script/wahua/common/whUtils.js"],"names":["HuaPai","PaiId","whUtils","getCardById","id","a","bc","newId","name","cc","log","getSaiziPointByCard","card","p1","substr","p2","module","exports"],"mappings":";;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,IAAMA,SAAS,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,KAAzC,EAAgD,MAAhD,EAAwD,KAAxD,EAA+D,IAA/D,EAAqE,KAArE,EAA4E,KAA5E,CAAf;AACA,IAAMC,QAAQ,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,EAAsE,KAAtE,EACC,KADD,EACQ,KADR,EACc,KADd,EACqB,KADrB,EAC4B,KAD5B,EACmC,KADnC,EAC0C,KAD1C,EACiD,KADjD,EACwD,KADxD,EAC+D,KAD/D,CAAd;;AAGA,IAAIC,UAAU;AAEbC,YAFa,uBAEDC,EAFC,EAEG;AACf,MAAIC,IAAI,CAAR;AAAA,MAAWC,KAAK,KAAhB;AAAA,MAAuBC,QAAQ,CAA/B;AACA,MAAIH,KAAK,GAAT,EAAc;AACb,OAAIA,KAAK,EAAT,EAAa;AACZC,QAAI,CAAJ;AACAE,YAAQH,KAAK,EAAL,GAAWA,KAAK,EAAL,GAAWA,KAAK,EAAhB,GAAuBA,KAAK,EAAvC,GAA8CA,EAAtD;AACA,IAHD,MAGO,IAAIA,MAAM,EAAN,IAAYA,KAAK,EAArB,EAAyB;AAC/BC,QAAI,CAAJ;AACAE,YAAQH,KAAK,EAAb;AACA,IAHM,MAGA;AACNC,QAAI,CAAJ;AACAE,YAAQH,KAAK,GAAL,GAAYA,KAAK,GAAjB,GAAyBA,KAAK,EAAtC;AACA;AACDE,QAAKL,MAAMM,QAAM,CAAZ,CAAL;AACA,OAAIC,OAAO,UAAUH,CAAV,GAAc,GAAd,GAAoBC,EAA/B;AACAG,MAAGC,GAAH,CAAO,oBAAP,EAA6BN,EAA7B,EAAiCI,IAAjC;AACA,UAAOA,IAAP;AACA,GAfD,MAeO;AACN,OAAIA,QAAO,UAAUR,OAAOI,KAAG,GAAH,GAAO,CAAd,CAArB;AACAK,MAAGC,GAAH,CAAO,mBAAP,EAA4BN,EAA5B,EAAgCI,KAAhC;AACA,UAAOA,KAAP;AACA;AACD,SAAO,KAAP;AACA,EAzBY;AA2BbG,oBA3Ba,+BA2BOC,IA3BP,EA2Ba;AACzB,SAAO,EAACC,IAAID,KAAKE,MAAL,CAAY,CAAZ,EAAe,CAAf,CAAL,EAAwBC,IAAIH,KAAKE,MAAL,CAAY,CAAZ,EAAe,CAAf,CAA5B,EAAP;AACA;AA7BY,CAAd;;AAiCAE,OAAOC,OAAP,GAAiBf,OAAjB","file":"whUtils.js","sourceRoot":"../../../../../../../assets/mahjong/script/wahua/common","sourcesContent":["/*\n *牌id对应牌*\n\t- 白皮: 1-21 / 22-42 / 43-63\n\t- 单匡: 64-84\n\t- 双框: 85-105 / 106-126\n\t- 花牌: 127-130 春夏秋冬 / 131-134 梅兰竹菊 / 135-136 白板\n\t- 11(1/22/43) 12(2) 13(3) 14(4) 15(5) 16(6) 22(7) 23(8) 24(9) 25(10) 26(11)    \n\t  33(12) 34(13) 35(14) 36(15) 44(16) 45(17) 46(18) 55(19) 56(20) 66(21)\n\n *牌对应牌的名称*\n \t- 非花牌名称\n\t \tcard_a_b_c / eg: car_0_1_1\n\t\ta: 0-白皮 1-双框 2-单匡\n\t\tb/c 代表对应的数字\n\t- 花牌名称\n\t\t春夏秋冬: card_spring  card_summer  card_autumn  card_winter\n\t\t梅兰竹菊: card_mei     card_lang    card_zhu     card_ju\n\t    白板   : card_bai\n\n *字段含义*\n\t- gamePhase: 游戏阶段 0-准备 1-发庄 2-摇色子 3-开始游戏/发牌 4-检查牌/打牌/补花 5-结算 6-解散房间\n    - gameStatu: 游戏状态 1-未开始 2-进行中 3-已结束\n    \n */\n\nconst HuaPai = ['spring', 'summer', 'autumn', 'winter', 'mei', 'lang', 'zhu', 'ju', 'bai', 'bai'];\nconst PaiId = ['1_1', '1_2', '1_3', '1_4', '1_5', '1_6', '2_2', '2_3', '2_4', '2_5','2_6',\n               '3_3', '3_4','3_5', '3_6', '4_4', '4_5', '4_6', '5_5', '5_6', '6_6'];\n\nlet whUtils = {\n\n\tgetCardById(id) {\n\t\tlet a = 0, bc = '1_1', newId = 1;\n\t\tif (id < 127) {\n\t\t\tif (id < 64) {\n\t\t\t\ta = 0;\n\t\t\t\tnewId = id > 21 ? (id > 42 ? (id - 42) : (id - 21)) : id;\n\t\t\t} else if (id >= 64 && id < 85) {\n\t\t\t\ta = 2;\n\t\t\t\tnewId = id - 63;\n\t\t\t} else {\n\t\t\t\ta = 1;\n\t\t\t\tnewId = id > 105 ? (id - 105) : (id - 84)\n\t\t\t}\n\t\t\tbc = PaiId[newId-1];\n\t\t\tlet name = 'card_' + a + '_' + bc;\n\t\t\tcc.log('=== 非花牌 id, name: ', id, name);\n\t\t\treturn name\n\t\t} else {\n\t\t\tlet name = 'card_' + HuaPai[id-126-1];\n\t\t\tcc.log('=== 花牌 id, name: ', id, name)\n\t\t\treturn name;\n\t\t}\n\t\treturn false;\n\t},\n\n\tgetSaiziPointByCard(card) {\n\t\treturn {p1: card.substr(7, 1), p2: card.substr(9, 1)};\n\t},\n\n};\n\nmodule.exports = whUtils;"]}
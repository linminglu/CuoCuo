{"version":3,"sources":["../../../../../../../assets/mahjong/script/game/paiju/assets/mahjong/script/game/paiju/mjPaijuMgr.js"],"names":["log","cc","UIControlData","superInitRound","showLen","pengGangLen","initPaiNode","playerUI","totalPaiPool","paiListNode","pengGangPaiN","getChildByName","shouPaiN","dachuPaiN","faPaiAnimN","buhuaPaiN","gameUI","pengStartPos","getPosition","setNodePool","eyeType","init","showType","require","PAISHOWTYPE","zoneList","GAI","pengGangHeng","SHOU","shouWidth","END","ENDWidth","PENG","PENGBY","pengGangZhi","SHOUGAI","paiZoneList","getPaiPrefabByView","paiPrefab","pai2DPrefab","pai3DPrefab","cleanNodePool","paiPoolList","NodePool","i","paiNode","instantiate","put","curPaiPrefab","getPaiNode","pai","size","get","isIns","name","udid","defaultPos","setPosition","active","instance","putPaiNode","OutPaiNode","removeFromParent","clear","onDestroy","_OnDestroy","checkPaiNode","parentN","paiList","self","fun","utils","forEach","addChild","getComponent","refresh","addShouPai","addPai","addShouPaiData","refreShouPai","targetN","index","addTouchEvent","addFaPai","refreFaPai","moPai","info","getShouPaiInfo","shouLen","getPaiData","shouShangPai","length","pos","setLocalZOrder","zOrder","refreRelativePos","addOutPai","refreDachuPai","updateBuHua","refreBuhua","puhuaList","getBuhuaInfo","bind","shouPaiList","refreHandNode","faPaiList","handN","len","daPaiOutList","getDachuInfo","player","call","initPlayer","refrePengGangPos","GameDefine","pengGangPai","peng","item","gang","gangList","pIndex","getPengGangInfo","is3DView","gangDiff","paiScale","pengList","onFaPaiStart","opacity","onFaPaiEnd","removeNodeChild","setShouRelativePos","showSamePaiTips","paiID","children","rmShouPai","daPai","worldPos","convertToWorldSpaceAR","localPos","convertToNodeSpaceAR","daPaiNode","setShowType","posIndex","targetInfo","moveTime","pDistance","moveAct","moveTo","changeAct","sequence","callFunc","isChuPai","daPaiAnimEnd","runAction","spliceList","removePaiNode","removeDachuPai","removeShouPai","rmNode","removeAllChildren","_children","removeAll","showDpAnim","dpNode","dianpaoPrefab","addEffect","show","rmZimoPai","addHupai","animanager","Animation","playAdditive","huNode","hupaiPrefab","setPaiEnd","isEated","module","exports","deskDefine","DESKPOS_TYPE","deskList","XIA","SHANG","ZUO","YOU","newChild","deskType","child","prototype"],"mappings":"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","file":"mjPaijuMgr.js","sourceRoot":"../../../../../../../assets/mahjong/script/game/paiju","sourcesContent":["// var utils = require(\"utils\");\nvar log   = cc.log;\n\n\n/////////////////////////////// start  //////////////////////////////////////////////////////////\n\nvar UIControlData = function(){\n    \n    this.superInitRound = function(){\n        this.showLen      = 0;\n        this.pengGangLen  = 0;\n    }\n\n    this.initPaiNode = function(playerUI){\n        this.totalPaiPool          = 20; //the number of  paiNode in pool;\n        this.playerUI              = playerUI;\n        var paiListNode            = playerUI.paiListNode;\n        this.pengGangPaiN          = paiListNode.getChildByName('pengGang');\n        this.shouPaiN              = paiListNode.getChildByName(\"shouPai\");\n        this.dachuPaiN             = paiListNode.getChildByName(\"dachuPai\");\n        this.faPaiAnimN            = paiListNode.getChildByName(\"shouAnim\");\n        this.buhuaPaiN             = paiListNode.getChildByName(\"buHua\");\n        this.gameUI                = playerUI.gameUI;\n        this.pengStartPos          = this.pengGangPaiN.getPosition();\n        this.paiListNode           = paiListNode;\n        this.setNodePool(playerUI.eyeType);\n        this.init(paiListNode);\n        var showType               = require(\"mjGameDefine\").PAISHOWTYPE;\n        var zoneList               = {};\n        zoneList[showType.GAI]     = this.pengGangHeng;\n        zoneList[showType.SHOU]    = this.shouWidth;\n        zoneList[showType.END]     = this.ENDWidth;\n        zoneList[showType.PENG]    = this.pengGangHeng;\n        zoneList[showType.PENGBY]  = this.pengGangZhi;\n        zoneList[showType.SHOUGAI] = this.shouWidth;\n        this.paiZoneList           = zoneList;\n    }\n\n\n\n    this.getPaiPrefabByView = function(eyeType){\n        var paiPrefab = this.playerUI.pai2DPrefab;\n        if(eyeType == \"3d\"){\n            paiPrefab =  this.playerUI.pai3DPrefab;\n        }\n        return paiPrefab;\n    }\n\n    this.setNodePool = function(eyeType){\n        this.cleanNodePool();\n        this.eyeType  = eyeType;\n        var paiPrefab = this.getPaiPrefabByView(eyeType);\n        this.paiPoolList = new cc.NodePool(); \n        for(let i=0; i< this.totalPaiPool; i++){\n            let paiNode = cc.instantiate(paiPrefab);\n            this.paiPoolList.put(paiNode);\n        }\n        this.curPaiPrefab = paiPrefab;\n    }\n\n    this.getPaiNode = function(pai){\n        var paiNode;\n        if(this.paiPoolList.size() > 0){\n            paiNode       = this.paiPoolList.get();\n            paiNode.isIns = false;\n        }else {\n            paiNode       = (cc.instantiate(this.curPaiPrefab))\n            paiNode.isIns = true;\n        }\n        paiNode.name       = pai.udid;\n        paiNode.defaultPos = paiNode.defaultPos || paiNode.getPosition();\n        paiNode.setPosition(paiNode.defaultPos);\n        paiNode.pai        = pai;\n        paiNode.active     = true;\n        paiNode.instance   = this;\n        return paiNode;\n    }\n\n    this.putPaiNode = function(paiNode){\n        if(this.OutPaiNode && paiNode == this.OutPaiNode){\n            delete this.OutPaiNode;\n        }\n        paiNode.active = false;\n        if(paiNode.isIns){\n            paiNode.removeFromParent();\n        }else {\n            this.paiPoolList.put(paiNode)\n        }\n    }\n\n    this.cleanNodePool = function(curPaiPrefab){\n        if(this.paiPoolList){\n            this.paiPoolList.clear();\n        }\n    }\n\n\n    this.onDestroy  = function(){\n        this.cleanNodePool();\n        if(this._OnDestroy){\n            this._OnDestroy();\n        }\n    }\n\n    this.checkPaiNode = function(parentN, paiList){\n        var self = this;\n        fun.utils.forEach(paiList, function(pai){\n            var paiNode = parentN.getChildByName(pai.udid);\n            if(!paiNode){\n                paiNode = self.getPaiNode(pai);\n                parentN.addChild(paiNode)\n            }\n            paiNode.getComponent(\"mjPaiUI\").refresh(pai);\n        })\n    }\n\n    this.addShouPai = function(addPai){\n        this.addShouPaiData(addPai, this.shouPaiN)\n        this.refreShouPai();\n    }\n\n    this.addShouPaiData = function(addPai, targetN){\n        var self = this;\n        fun.utils.forEach(addPai, function(pai, index){\n            var paiNode = self.getPaiNode(pai);\n            if(self.addTouchEvent){\n                self.addTouchEvent(paiNode)\n            }\n            targetN.addChild(paiNode); \n        })\n        \n    }\n\n    this.addFaPai = function(addPai){\n        this.addShouPaiData(addPai, this.faPaiAnimN);\n        this.refreFaPai();\n    }\n    \n\n    this.moPai = function(pai){\n        var paiNode = this.getPaiNode(pai);\n        this.shouPaiN.addChild(paiNode);\n        if(this.addTouchEvent){\n            this.addTouchEvent(paiNode)\n        }\n        // this.shouLen = this.setShouPaiPos(paiNode, pai, this.shouLen, true, );\n        var info  = this.getShouPaiInfo(pai, this.shouLen, true, this.getPaiData().shouShangPai.length, paiNode)\n        this.shouLen = info.shouLen;\n        paiNode.getComponent(\"mjPaiUI\").refresh(pai, info);\n        paiNode.setPosition(info.pos);\n        paiNode.setLocalZOrder(info.zOrder);\n        this.refreRelativePos();\n    }\n\n    this.addOutPai = function(pai){\n        this.refreDachuPai();\n    }\n\n\n\n    this.updateBuHua = function(){\n        this.refreBuhua();\n    }\n\n    this.refreBuhua = function(){\n        this.checkPaiNode(this.buhuaPaiN, this.getPaiData().puhuaList);\n        this.getPaiData().puhuaList.forEach(function(pai, index){\n             var paiNode = this.buhuaPaiN.getChildByName(pai.udid);\n            var info = this.getBuhuaInfo(paiNode, index);\n            paiNode.getComponent(\"mjPaiUI\").refresh(pai, info);\n            paiNode.setPosition(info.pos);\n            paiNode.setLocalZOrder(info.zOrder)\n        }.bind(this))\n    }\n\n    // this.refreshBuhUA = function()\n    this.refreShouPai =  function(){\n        var shouPaiList = this.getPaiData().shouShangPai;\n        this.shouLen = this.refreHandNode(shouPaiList, this.shouPaiN);\n    }\n\n    this.refreFaPai =  function(){\n        var faPaiList = this.getPaiData().faPaiList;\n        this.refreHandNode(faPaiList, this.faPaiAnimN);\n    }\n\n    this.refreHandNode = function(paiList, handN){\n        var len = 0;\n        fun.utils.forEach(paiList, function(pai, index){\n            var paiNode = handN.getChildByName(pai.udid);\n            var info = this.getShouPaiInfo(pai, len, false, index, paiNode);\n            paiNode.getComponent(\"mjPaiUI\").refresh(pai, info);\n            paiNode.setPosition(info.pos);\n            paiNode.setLocalZOrder(info.zOrder);\n            len = info.shouLen;\n        }.bind(this))\n        return  len;\n    }\n\n\n\n    this.refreDachuPai = function(){\n        var paiList = this.getPaiData().daPaiOutList;\n        this.checkPaiNode(this.dachuPaiN, paiList)\n        fun.utils.forEach(paiList, function(pai, index){\n            var paiNode = this.dachuPaiN.getChildByName(pai.udid)\n            var info = this.getDachuInfo(index);\n            paiNode.setPosition(info.pos);\n            paiNode.getComponent(\"mjPaiUI\").refresh(pai, info);\n            paiNode.setLocalZOrder(info.zOrder)\n        }.bind(this));\n    }   \n\n    this.getPaiData = function(){\n        return this.player.getPaiData.call(this.player);\n    }\n\n\n\n    this.initPlayer = function(player){\n        this.player = player;\n    }\n\n    this.refrePengGangPos = function(){\n        var self = this;\n        var GameDefine = require(\"mjGameDefine\");\n        fun.utils.forEach(this.getPaiData().pengGangPai.peng, function(item, index){\n            self.checkPaiNode(self.pengGangPaiN, item);\n        })\n        fun.utils.forEach(this.getPaiData().pengGangPai.gang, function(item, index){\n            self.checkPaiNode(self.pengGangPaiN, item);\n        })\n        var len = 0;\n        var gangList    = this.getPaiData().pengGangPai.gang ;\n        var pIndex     = 0;\n\n        gangList.forEach(function(item, index){\n            for(let i =0; i<4; i++){\n                var pai = item[i];\n                var paiNode            = self.pengGangPaiN.getChildByName(pai.udid);\n                let info               = self.getPengGangInfo(pai, len, i, pIndex);\n                paiNode.setPosition(info.pos);\n                paiNode.setLocalZOrder(info.zOrder);\n                paiNode.getComponent(\"mjPaiUI\").refresh(pai, info);\n                len    = info.len;\n                //因为杠牌第三张牌是重叠在中间的牌上\n                if(i != 3){\n                    pIndex += 1;\n                }\n                \n            }\n            len += (self.is3DView ? self.gangDiff * 0.8 :  self.gangDiff * self.paiScale)\n        })\n        var pengList = this.getPaiData().pengGangPai.peng;\n        pengList.forEach(function(item, index){\n            for(let i =0; i<3; i++){\n                var pai = item[i];\n                var paiNode = self.pengGangPaiN.getChildByName(pai.udid);\n                let info               = self.getPengGangInfo(pai, len, i, pIndex);\n                paiNode.setPosition(info.pos);\n                paiNode.setLocalZOrder(info.zOrder);\n                paiNode.getComponent(\"mjPaiUI\").refresh(pai, info);\n                len = info.len;\n                pIndex += 1;\n            }\n            len += (self.is3DView ? self.gangDiff * 0.8 :  self.gangDiff * self.paiScale); \n        })\n        this.pengGangLen = len;\n        this.refreRelativePos();\n    }\n\n    this.onFaPaiStart = function(){\n        this.shouPaiN.opacity = 0;\n        this.pengGangPaiN.opacity =0;\n    }\n\n    this.onFaPaiEnd = function(){\n        this.shouPaiN.opacity =  255;\n        this.pengGangPaiN.opacity = 255;\n    }\n\n    this.refreRelativePos = function(){\n        this.removeNodeChild(this.faPaiAnimN);\n        this.setShouRelativePos( this.pengGangLen, this.shouLen);\n    }\n\n    this.showSamePaiTips = function(paiID){\n        fun.utils.forEach(this.dachuPaiN.children, function(item){\n            item.getComponent(\"mjPaiUI\").showSamePaiTips(paiID);\n        })\n        fun.utils.forEach(this.pengGangPaiN.children, function(item){\n            item.getComponent(\"mjPaiUI\").showSamePaiTips(paiID);\n        })\n    }\n\n    this.rmShouPai = function(pai){\n        var paiNode   = this.shouPaiN.getChildByName(pai.udid);\n        this.putPaiNode(paiNode);\n        this.refreShouPai();\n    }\n\n    this.daPai = function( pai){\n        var self      = this;\n        var paiNode   = this.shouPaiN.getChildByName(pai.udid);\n        var worldPos  = this.shouPaiN.convertToWorldSpaceAR(paiNode.getPosition());\n        var localPos  = this.dachuPaiN.convertToNodeSpaceAR(worldPos);\n        this.putPaiNode(paiNode);\n        var daPaiNode = this.getPaiNode(pai);\n        pai.setShowType(require(\"mjGameDefine\").PAISHOWTYPE.END);\n        daPaiNode.getComponent(\"mjPaiUI\").refresh(pai);\n        daPaiNode.setPosition(localPos);\n        this.dachuPaiN.addChild(daPaiNode);\n        var posIndex  = this.dachuPaiN.children.length -1 \n        var targetInfo = this.getDachuInfo(posIndex);\n        var moveTime  = cc.pDistance(localPos, targetInfo.pos)/2000;\n        var moveAct   = cc.moveTo(moveTime, targetInfo.pos);\n        var changeAct = cc.sequence(moveAct, cc.callFunc(function(){\n                pai.isChuPai = true;\n                daPaiNode.getComponent(\"mjPaiUI\").refresh(pai, targetInfo);\n                self.refreShouPai();\n                self.refreDachuPai();\n                self.playerUI.player.daPaiAnimEnd();\n        }))\n        daPaiNode.setLocalZOrder(999);\n        daPaiNode.runAction(changeAct);\n    }\n\n    // this.\n\n    this.pengGangPai = function(spliceList){\n        var self = this;\n        fun.utils.forEach(spliceList, function(pai){\n            self.removePaiNode(self.shouPaiN, pai.udid);\n        })\n        this.refreShouPai();\n        this.refrePengGangPos();\n    }\n\n    this.removePaiNode = function(targetN, udid){\n        var paiNode = targetN.getChildByName(udid);\n        if(paiNode){\n            this.putPaiNode(paiNode);\n        }\n    }\n\n    this.removeDachuPai = function(udid){\n        this.removePaiNode(this.dachuPaiN, udid)\n    }\n    this.removeShouPai = function(udid){\n        this.removePaiNode(this.shouPaiN, udid);\n        this.refreShouPai();\n    }\n\n    this.removeNodeChild = function(rmNode){\n        var self = this;\n        fun.utils.forEach(rmNode.children, function(item){\n            self.putPaiNode(item);\n        })\n        //浏览器这里有概率会报错\n        if(rmNode && rmNode.children && rmNode.children.length){\n            rmNode.removeAllChildren();\n        }\n        rmNode._children = []\n    }\n\n    this.removeAll = function(){\n        this.removeNodeChild(this.shouPaiN)\n        this.removeNodeChild(this.pengGangPaiN)\n        this.removeNodeChild(this.dachuPaiN);\n        this.removeNodeChild(this.buhuaPaiN);\n    }\n\n    this.showDpAnim = function(pai){\n        var dpNode  = cc.instantiate(this.gameUI.dianpaoPrefab);\n        var paiNode = this.dachuPaiN.getChildByName(pai.udid);\n        paiNode.getComponent(\"mjPaiUI\").addEffect(dpNode, \"dp\")\n        paiNode.setLocalZOrder(999);\n        dpNode.getComponent(\"mjDpaoUI\").show(this, pai.udid);\n    }\n\n    this.rmZimoPai = function(udid){\n        this.removeShouPai(udid);\n    }\n\n    \n    this.addHupai = function(pai){\n        // this.removeShouPai(pai.udid);\n        pai.setShowType(require(\"mjGameDefine\").PAISHOWTYPE.PENG);\n        this.moPai(pai);\n        var paiNode    = this.shouPaiN.getChildByName(pai.udid);\n        var animanager = paiNode.getComponent(cc.Animation);\n        animanager.playAdditive(\"mjHuAnim\");\n        var huNode     = cc.instantiate(this.gameUI.hupaiPrefab);\n        paiNode.getComponent(\"mjPaiUI\").addEffect(huNode, \"hu\")\n        huNode.getComponent(\"mjHuAnimUI\").show();\n    }\n\n    this.setPaiEnd = function(isEated, pai){\n        if(isEated){\n           this.removeDachuPai(pai.udid);\n        }else {\n            this.refreDachuPai();\n            // var paiNode = this.dachuPaiN.getChildByName(pai.udid);\n            // paiNode.getComponent(\"mjPaiUI\").refresh(pai, );\n        }\n    }\n}\n\n\n\nmodule.exports = {\n    init : function(){\n        var deskDefine             = require(\"mjGameDefine\").DESKPOS_TYPE;\n        var deskList               = {};\n        deskList[deskDefine.XIA]   = require(\"mjPaijuXia\");\n        deskList[deskDefine.SHANG] = require(\"mjPaijuShang\");\n        deskList[deskDefine.ZUO]   = require(\"mjPaijuZuo\");\n        deskList[deskDefine.YOU]   = require(\"mjPaijuYou\");\n        this.deskList = deskList;\n    },\n\n    newChild : function(deskType){\n        if(!this.deskList){\n            this.init();\n        }\n        var child =  this.deskList[deskType].instance;\n        child.prototype = new UIControlData();\n        return (new child());\n    },\n}\n"]}
{"version":3,"sources":["../../../../../../../assets/mahjong/script/game/paiju/assets/mahjong/script/game/paiju/mjPaijuYou.js"],"names":["mjDataMgr","require","youControl","init","paiScale","get","KEYS","CFG","pengGangHeng","pengGangZhi","gangDiff","shouWidth","EndWidth","EndHeight","is3DView","cc","sys","localStorage","getItem","fun","event","add","onViewChange","bind","initRound","superInitRound","shouPaiN","y","pengStartPos","pengGangPaiN","_OnDestroy","remove","isPlaying","refreDachuPai","checkPaiNode","getPaiData","shouShangPai","refreShouPai","refreBuhua","refrePengGangPos","setShouPaiPos","paiNode","pai","shouLen","isMo","index","width","paiZoneList","showType","setPosition","p","setLocalZOrder","getShouPaiInfo","info","zOrder","bgFrameName","getBgFrame","pos","gangList","pengGangPai","gang","pengList","peng","pIndex","length","getPai3dInfo","posScale","PaiType","PAISHOWTYPE","PENG","PENGBY","SHOUGAI","SHOU","END","GAI","startScale","zoomScale","Math","pow","curScale","skewY","contentPos","skewX","x","getDachuInfo","horizontal","honIndex","verIndex","floor","sfScale","getBuhuaInfo","getPengGangInfo","pengGangLen","len","setShouRelativePos","totalLen","paiListNode","height","module","exports","instance"],"mappings":"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","file":"mjPaijuYou.js","sourceRoot":"../../../../../../../assets/mahjong/script/game/paiju","sourcesContent":["var mjDataMgr     = require(\"mjDataMgr\");\n/////////////////////////////// 右方玩家 //////////////////////////////////////////////////////////\n\nvar youControl = function(){\n    this.init = function(){\n        this.paiScale     =mjDataMgr.get(mjDataMgr.KEYS.CFG).paiScale || 1;\n        this.pengGangHeng = 28 * this.paiScale;\n        this.pengGangZhi  = 41 * this.paiScale;\n        this.gangDiff     = 20;\n        this.shouWidth    = 26 * this.paiScale;\n        this.EndWidth        = 49;\n        this.EndHeight       = 28;\n        this.is3DView     = cc.sys.localStorage.getItem(\"mjEyeView\") == \"3D\";\n        fun.event.add(\"mjViewChangeYou\", \"mjViewChange\", this.onViewChange.bind(this));\n    }\n\n    this.initRound = function(){\n        this.superInitRound();\n        this.shouPaiN.y     = this.pengStartPos.y;\n        this.pengGangPaiN.y = this.pengStartPos.y;        \n    }\n\n\n\n    this._OnDestroy = function(){\n        fun.event.remove(\"mjViewChangeYou\");\n    }\n\n    this.onViewChange = function(){\n        this.is3DView           = cc.sys.localStorage.getItem(\"mjEyeView\") ==\"3D\";\n        if(!require(\"mjGameManager\").isPlaying){return}\n        // this.removeNodeChild(this.dachuPaiN);\n        this.refreDachuPai()\n        // this.removeNodeChild(this.shouPaiN);\n        this.checkPaiNode(this.shouPaiN, this.getPaiData().shouShangPai)\n        this.refreShouPai();\n        // this.removeNodeChild(this.buhuaPaiN);\n        this.refreBuhua();\n        // this.removeNodeChild(this.pengGangPaiN);\n        this.refrePengGangPos()\n\n    }\n\n    this.setShouPaiPos =  function(paiNode, pai, shouLen, isMo, index){\n        // if(!this.is3DView){\n// \n        // }else \n        var width = this.paiZoneList[pai.showType];\n        shouLen   = isMo  ?  shouLen + width / 2 : shouLen\n        paiNode.setPosition(cc.p(0, shouLen));\n        paiNode.setLocalZOrder(100 - index);\n        return (shouLen + width);\n    }\n\n\n    this.getShouPaiInfo =  function(pai, shouLen, isMo, index){\n        var info      = {}\n        info.zOrder   = 100 - index;\n        info.is3DView = this.is3DView;\n        info.bgFrameName = this.getBgFrame(pai);\n        if(!this.is3DView){\n            shouLen      = isMo  ?  shouLen + this.shouWidth / 2 : shouLen\n            info.pos     = cc.p(0, shouLen);\n            info.shouLen = shouLen + this.shouWidth\n            // info.bgFrameName = \"zy_shou\";\n        }else {\n            var gangList     = this.getPaiData().pengGangPai.gang;\n            var pengList     = this.getPaiData().pengGangPai.peng;\n            var pIndex       = (gangList.length + pengList.length) * 3 + index;\n            shouLen          = (isMo  ?  shouLen + this.shouWidth / 2 : shouLen);\n            info             = this.getPai3dInfo(pai, pIndex, shouLen, info);\n            var width        = 26 * info.posScale * 0.9;\n            info.shouLen     = shouLen + width\n        }\n        return info;\n    }\n\n    this.getBgFrame = function(pai){\n        var PaiType   = require(\"mjGameDefine\").PAISHOWTYPE; \n        var bgFrameName = \"\";\n        if(pai.showType == PaiType.PENG){\n            bgFrameName = !this.is3DView ? \"zy_heng\" : \"y_p_0\"\n        }else if(pai.showType == PaiType.PENGBY){\n            bgFrameName = !this.is3DView ? \"zy_tang\" : \"y_pb_0\"\n        }else if(pai.showType == PaiType.SHOUGAI){\n            bgFrameName = !this.is3DView ? \"zy_gai\" : \"y_gai\"\n        }else if(pai.showType == PaiType.SHOU){\n            bgFrameName = !this.is3DView ? \"zy_shou\" : \"y_s_0\"\n        }else if(pai.showType == PaiType.END){\n            bgFrameName = !this.is3DView ? \"zy_heng\" : \"y_d_\"\n        }else if(pai.showType == PaiType.GAI){\n            bgFrameName = !this.is3DView ? \"zy_gai\" : \"y_gai\"\n        }\n        return bgFrameName\n    }\n\n\n\n    this.getPai3dInfo = function(pai, index, shouLen, info){\n        var PaiType    = require(\"mjGameDefine\").PAISHOWTYPE;\n        var startScale = 0.64;\n        var zoomScale  = 0.988;\n        info.posScale = Math.pow(0.99, index) * 0.94;\n        info.is3DView = this.is3DView;\n        info.pos      = cc.p(index * -7*info.posScale -20, shouLen);\n        info.curScale = startScale * Math.pow(zoomScale, index) ;\n        if(pai.showType == PaiType.SHOUGAI){\n            // info.bgFrameName = \"y_gai\"\n            info.curScale = info.curScale * 1.2;\n        }else if(pai.showType == PaiType.PENG){\n            // info.bgFrameName = \"y_p_0\";\n            info.curScale   =  info.curScale * 1.288;\n            info.posScale    = Math.pow(0.992, index)  * 0.98;\n            info.skewY       = 15;\n            info.contentPos = cc.p(-30, 32);\n        }else if(pai.showType == PaiType.PENGBY){\n            // info.bgFrameName = \"y_pb_0\";\n            info.curScale   =  info.curScale * 1.288;\n            info.skewX    = -16;\n            info.contentPos = cc.p(-22, 34);\n            info.posScale    = Math.pow(0.992, index)  * 0.828;\n            if(index % 3 == 0){\n                info.pos.x += 2*info.posScale;\n            }\n        }else if(pai.showType == PaiType.GAI){\n            // info.bgFrameName = \"y_gai\";\n            info.curScale =startScale * Math.pow(zoomScale, index) * 1.196;\n            info.posScale = info.posScale * 0.828 ;\n            info.pos      = cc.p(index * -7*info.posScale -20, shouLen);\n        }else {\n            // info.bgFrameName = \"y_s_0\"\n        }\n\n        return info\n    }\n\n    this.getDachuInfo = function(index){\n        var horizontal = 11;\n        var honIndex   = index % horizontal ;\n        var verIndex   = Math.floor(index / horizontal)\n        var info       = {}\n        var startScale = 0.64;\n        var zoomScale  = 0.984;\n        info.zOrder = Math.floor( 100 - verIndex * 20 - honIndex);\n        info.is3DView = this.is3DView;\n        if(!this.is3DView){\n            info.pos         = cc.p(verIndex * this.EndWidth, honIndex * this.EndHeight);\n            info.bgFrameName = \"zy_heng\";\n            info.curScale    = 0.86;\n            info.contentPos = cc.p(-28, 35);\n            // info.zOrder = (Math.floor(index / 11) * 20  - index%11 );\n        }else{\n            info.bgFrameName = \"y_d_\" + verIndex;\n            let curScale = startScale * Math.pow(zoomScale, honIndex);\n            info.pos =  cc.p(verIndex * (64*startScale) - 7.2 * startScale  * honIndex  - verIndex * Math.pow(1.24, honIndex) -18, \n                honIndex * 46*startScale * Math.pow(0.992, honIndex) -5);\n            info.curScale = curScale;\n            info.skewY   = 10; //(honIndex * 1.5 - 7.5) * curScale;\n            info.sfScale = 1.2;\n            info.contentPos = cc.p(-32, 40);\n        }\n        return info;\n    }\n\n    this.getBuhuaInfo = function(paiNode, index){\n        var info = {};\n        info.zOrder = (100 - index );\n        info.is3DView = this.is3DView;\n        if(!this.is3DView){\n            info.pos = cc.p(0, index * 28)\n            info.bgFrameName =\"zy_heng\";\n            info.contentPos = cc.p(-28, 35);\n        }else {\n            var startScale = 0.64;\n            var zoomScale  = 0.984;\n            info.bgFrameName = \"y_d_\" + 2;\n            let curScale = startScale * Math.pow(zoomScale, index);\n            // let lastScal = startScale * Math.pow(zoomScale, (index -1 ));\n            info.pos =  cc.p(index * -12 *curScale -40 , index * 46 * curScale * Math.pow(1.008, index));\n            info.curScale = curScale;\n            info.contentPos = cc.p(-32, 40);\n            info.skewY    = 10\n            info.sfScale = 1.2;\n        }\n        return info\n    }\n\n    this.getPengGangInfo = function(pai, pengGangLen, index, pIndex){        \n        var PaiType   = require(\"mjGameDefine\").PAISHOWTYPE;\n        var info      = {}\n        info.zOrder   = 100 - pIndex;\n        var width     = this.paiZoneList[pai.showType];\n        info.is3DView = this.is3DView;\n        info.len = pengGangLen;\n        info.bgFrameName = this.getBgFrame(pai);\n        if(!this.is3DView){\n            if(index == 3){\n                info.zOrder   = 100;\n                info.pos = cc.p(0, pengGangLen- this.pengGangZhi -4);\n            }else {\n                info.pos = cc.p(0, pengGangLen);\n            }\n           if(pai.showType == PaiType.PENG){\n                // info.bgFrameName = \"zy_heng\";\n                info.curScale    = this.paiScale * 0.98\n                info.contentPos = cc.p(-30, 34);\n            }else if(pai.showType == PaiType.PENGBY){\n                // info.bgFrameName = \"zy_tang\";\n                info.curScale    = this.paiScale * 0.92\n                info.contentPos = cc.p(-22, 39);\n            }else if(pai.showType == PaiType.GAI){\n                // info.bgFrameName = \"zy_gai\";\n                info.curScale    = this.paiScale * 0.94\n            }      \n        }else{\n            info  = this.getPai3dInfo(pai, pIndex, pengGangLen, info);\n            width =  width *  info.posScale;\n            if(index == 3){\n                info.zOrder   = 100;\n                info.pos.y -= this.pengGangHeng * 1.6 * info.posScale;\n                info.pos.x += 22 * info.posScale;\n            }\n        }\n        info.len = (index != 3 ) ? info.len + width : info.len;\n        return info;\n    }\n\n\n\n\n    this.setShouRelativePos = function(pengGangLen, shouLen){\n        // if(this.is3DView){return}\n        var totalLen        = this.paiListNode.height;\n        this.pengGangPaiN.y = (totalLen - shouLen - pengGangLen) /2\n        this.shouPaiN.y     = this.pengGangPaiN.y + pengGangLen;\n    }\n};\n\n\n\n\nmodule.exports = {\n    instance :  youControl,\n}\n\n\n"]}
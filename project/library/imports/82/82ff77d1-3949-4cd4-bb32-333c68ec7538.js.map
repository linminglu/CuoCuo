{"version":3,"sources":["../../../../../../assets/hall/script/zhanji/assets/hall/script/zhanji/zhanjiLayer.js"],"names":["Audio","require","cc","Class","extends","Component","properties","noZhanji","type","Node","default","toggleGroupNode","btnClose","btnView","viewPlaybackPre","Prefab","pukeZhanjiPre","majiangZhanjiPre","onLoad","animation","node","getComponent","Animation","clips","getClips","on","onBtnViewClick","onBtnCloseClick","init","gameType","data","children","forEach","toggleNode","getComponentInChildren","gameConst","name","Toggle","check","initWithData","enableCheck","onEnable","play","onBtnToggleClicked","playEffect","instantiate","parent","once","destroy"],"mappings":";;;;;;AAAA,IAAIA,QAAQC,QAAQ,OAAR,CAAZ;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;;AAERC,kBAAU;AACNC,kBAAMN,GAAGO,IADH;AAENC,qBAAS;AAFH,SAFF;;AAORC,yBAAiB;AACbH,kBAAMN,GAAGO,IADI;AAEbC,qBAAS;AAFI,SAPT;;AAYRE,kBAAU;AACNJ,kBAAMN,GAAGO,IADH;AAENC,qBAAS;AAFH,SAZF;;AAiBRG,iBAAS;AACLL,kBAAMN,GAAGO,IADJ;AAELC,qBAAS;AAFJ,SAjBD;;AAsBRI,yBAAiB;AACbN,kBAAMN,GAAGa,MADI;AAEbL,qBAAS;AAFI,SAtBT;;AA2BRM,uBAAe;AACXR,kBAAMN,GAAGa,MADE;AAEXL,qBAAS;AAFE,SA3BP;;AAgCRO,0BAAkB;AACdT,kBAAMN,GAAGa,MADK;AAEdL,qBAAS;AAFK;AAhCV,KAHP;;AA0CLQ,UA1CK,oBA0CK;AACN,aAAKC,SAAL,GAAiB,KAAKC,IAAL,CAAUC,YAAV,CAAuBnB,GAAGoB,SAA1B,CAAjB;AACA,aAAKC,KAAL,GAAa,KAAKJ,SAAL,CAAeK,QAAf,EAAb;AACA,aAAKX,OAAL,CAAaY,EAAb,CAAgB,OAAhB,EAAyB,KAAKC,cAA9B,EAA8C,IAA9C;AACA,aAAKd,QAAL,CAAca,EAAd,CAAiB,OAAjB,EAA0B,KAAKE,eAA/B,EAAgD,IAAhD;AACH,KA/CI;AAiDLC,QAjDK,gBAiDCC,QAjDD,EAiDWC,IAjDX,EAiDiB;AAClB,aAAKnB,eAAL,CAAqBoB,QAArB,CAA8BC,OAA9B,CAAsC,UAASC,UAAT,EAAqB;AACvDA,uBAAWC,sBAAX,CAAkC,WAAlC,EAA+CN,IAA/C;AACA,gBAAIC,aAAaM,UAAUN,QAAV,CAAmBI,WAAWG,IAA9B,CAAjB,EAAsD;AAClDH,2BAAWZ,YAAX,CAAwBnB,GAAGmC,MAA3B,EAAmCC,KAAnC;AACAL,2BAAWC,sBAAX,CAAkC,WAAlC,EAA+CK,YAA/C,CAA4DT,IAA5D;AACH,aAHD,MAGO;AACHG,2BAAWC,sBAAX,CAAkC,WAAlC,EAA+CM,WAA/C,CAA2D,IAA3D;AACH;AACJ,SARD;AASH,KA3DI;AA6DLC,YA7DK,sBA6DO;AACR,aAAKtB,SAAL,CAAeuB,IAAf,CAAoB,KAAKnB,KAAL,CAAW,CAAX,EAAca,IAAlC;AACH,KA/DI;AAiELO,sBAjEK,gCAiEe;AAChB3C,cAAM4C,UAAN,CAAiB,MAAjB,EAAyB,kBAAzB;AACH,KAnEI;AAqELlB,kBArEK,4BAqEa;AACd1B,cAAM4C,UAAN,CAAiB,MAAjB,EAAyB,kBAAzB;AACA,YAAI9B,kBAAkBZ,GAAG2C,WAAH,CAAe,KAAK/B,eAApB,CAAtB;AACAA,wBAAgBgC,MAAhB,GAAyB,KAAK1B,IAA9B;AACH,KAzEI;AA2ELO,mBA3EK,6BA2Ea;AACd3B,cAAM4C,UAAN,CAAiB,MAAjB,EAAyB,kBAAzB;AACA,aAAKjC,eAAL,CAAqBoB,QAArB,CAA8BC,OAA9B,CAAsC,UAASC,UAAT,EAAqB;AACvDA,uBAAWC,sBAAX,CAAkC,WAAlC,EAA+CM,WAA/C,CAA2D,KAA3D;AACH,SAFD;AAGA,aAAKrB,SAAL,CAAeuB,IAAf,CAAoB,KAAKnB,KAAL,CAAW,CAAX,EAAca,IAAlC,EAAwCW,IAAxC,CAA6C,UAA7C,EAAyD,YAAY;AACjE,iBAAK3B,IAAL,CAAU4B,OAAV;AACH,SAFD,EAEG,IAFH;AAGH;AAnFI,CAAT","file":"zhanjiLayer.js","sourceRoot":"../../../../../../assets/hall/script/zhanji","sourcesContent":["let Audio = require('Audio');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        noZhanji: {\n            type: cc.Node,\n            default: null,\n        },\n\n        toggleGroupNode: {\n            type: cc.Node,\n            default: null,\n        },\n\n        btnClose: {\n            type: cc.Node,\n            default: null,\n        },\n\n        btnView: {\n            type: cc.Node,\n            default: null,\n        },\n\n        viewPlaybackPre: {\n            type: cc.Prefab,\n            default: null,\n        },\n\n        pukeZhanjiPre: {\n            type: cc.Prefab,\n            default: null,\n        },\n\n        majiangZhanjiPre: {\n            type: cc.Prefab,\n            default: null,\n        },\n    },\n\n\n    onLoad () {\n        this.animation = this.node.getComponent(cc.Animation);\n        this.clips = this.animation.getClips();\n        this.btnView.on('click', this.onBtnViewClick, this);\n        this.btnClose.on('click', this.onBtnCloseClick, this);\n    },\n\n    init (gameType, data) {\n        this.toggleGroupNode.children.forEach(function(toggleNode) {\n            toggleNode.getComponentInChildren('zhanjiScv').init();\n            if (gameType === gameConst.gameType[toggleNode.name]) {\n                toggleNode.getComponent(cc.Toggle).check();\n                toggleNode.getComponentInChildren('zhanjiScv').initWithData(data);\n            } else {\n                toggleNode.getComponentInChildren('zhanjiScv').enableCheck(true);\n            }\n        });\n    },\n\n    onEnable () {\n        this.animation.play(this.clips[0].name);\n    },\n\n    onBtnToggleClicked(){\n        Audio.playEffect('hall', 'button_nomal.mp3');\n    },\n\n    onBtnViewClick () {\n        Audio.playEffect('hall', 'button_nomal.mp3');\n        let viewPlaybackPre = cc.instantiate(this.viewPlaybackPre);\n        viewPlaybackPre.parent = this.node;\n    },\n\n    onBtnCloseClick() {\n        Audio.playEffect('hall', 'button_close.mp3');\n        this.toggleGroupNode.children.forEach(function(toggleNode) {\n            toggleNode.getComponentInChildren('zhanjiScv').enableCheck(false);\n        });\n        this.animation.play(this.clips[1].name).once('finished', function () {\n            this.node.destroy();\n        }, this);\n    },\n});\n"]}
{"version":3,"sources":["../../../../../../assets/mahjong/script/ui/assets/mahjong/script/ui/mjPlayerUI.js"],"names":["GameDefine","require","gameManager","cc","Class","extends","Component","properties","pai2DPrefab","Prefab","pai3DPrefab","onLoad","onDestroy","UIControl","undefined","init","initNodeList","initChat","paiListNode","node","getChildByName","playerInfoN","chatN","waitN","statusTagN","quanN","offLineNode","directN","effectZoneN","on","onPlayerInfoClicked","active","totalDt","hideWaitName","update","dt","updateSecond","updatTime","hideAllChat","handerList","showEmoji","showText","showVoice","children","forEach","child","time","showChat","data","hander","chatType","call","emojiN","spAnim","getComponent","sp","Skeleton","setAnimation","content","textN","contentN","Label","string","Audio","idx","index","talk","language","gameType","fun","db","getData","GameType","isWenLing","gameConst","maJiangWenLing","isMandarin","parseInt","gameCfg","voiceLanguage","mandarin","voiceName","sex","getInstance","getPlayerData","player","PlayerIdx","Sex","voicePath","playEffect","voiceN","length","item","addBuhua","buhuaList","refreshPlayerData","playerData","nameNode","scoreNode","scoreLabel","xdhs","showName","imgNode","utils","loadUrlRes","Icon","refrePlayerStatus","status","noCardN","readyN","PLAYER_READY","READY","NO_CARD","OFFLINE","refreGameStatus","TURN_STATUS","TURNTOPLAY","setDirection","direction","DIRECTION_TYPE","DONG","cleanPaiNode","removeAll","showHuPaiAnim","pai","hupaiData","showPaiEndAnim","addHupai","animNode","instantiate","paiEffectPrefab","addChild","showSpeacilEndAnim","initDeskPosType","deskType","gameUI","paijuUIMgr","optEffectPrefab","eatType","mjPaijuMgr","newChild","initPaiNode","initRound","showPlayerInfo","showOptPaiAnim","getInteractPos","convertToWorldSpaceAR","p","getPaiMgr"],"mappings":"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","file":"mjPlayerUI.js","sourceRoot":"../../../../../../assets/mahjong/script/ui","sourcesContent":["var GameDefine   = require(\"mjGameDefine\");\nvar gameManager  = require(\"mjGameManager\");\n\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        pai2DPrefab    : cc.Prefab,\n        pai3DPrefab    : cc.Prefab,\n    },    \n     // use this for initialization\n    onLoad: function () {\n       \n    },\n\n    onDestroy(){\n        if(this.UIControl){\n            this.UIControl.onDestroy();\n            this.UIControl = undefined;\n        }\n    },\n\n    init(){\n       this.initNodeList();\n       this.initChat();\n    },\n\n    initNodeList(){\n        this.paiListNode        = this.node.getChildByName(\"paiNode\");\n        this.playerInfoN        = this.node.getChildByName(\"info\");\n        this.chatN              = this.node.getChildByName(\"chat\")\n        this.waitN              = this.node .getChildByName(\"wait\");\n        this.statusTagN         = this.playerInfoN.getChildByName(\"status\");\n        this.quanN              = this.node.getChildByName(\"Quan\");\n        this.offLineNode        = this.node.getChildByName(\"offLine\");\n        this.directN            = this.node.getChildByName(\"direct\");\n        this.effectZoneN        = this.node.getChildByName(\"effectZone\");\n        this.playerInfoN.on(\"touchend\", this.onPlayerInfoClicked, this)\n        this.chatN.active       = true;\n        this.playerInfoN.active = false;\n        this.quanN.active       = false;\n        this.quanN.active       = false;\n        this.offLineNode.active = false;\n        this.directN.active     = false;\n        this.totalDt            = 0;\n    }, \n\n    hideWaitName(){\n        this.node.getChildByName(\"wait\").getChildByName(\"label\").active = false;\n    },\n\n    update(dt){\n        this.totalDt += dt;\n        if(this.totalDt > 1){\n            this.updateSecond();\n            this.totalDt -= 1;\n        }\n    },\n\n    updateSecond(){\n        this.chatN.updatTime();\n    },\n\n    initChat : function(){\n        this.hideAllChat();\n        var handerList               = {};\n        handerList[\"emoji\"] = this.showEmoji;\n        handerList[\"text\"]  = this.showText;\n        handerList[\"voice\"] = this.showVoice;\n        this.chatN.updatTime         = function(){\n            this.children.forEach(function(child){\n                child.time = child.time || 0;\n                child.time -= 1; \n                child.active = child.time > 0;\n            })\n        }\n        this.handerList = handerList;\n    },\n\n    showChat : function(data){\n        var hander = this.handerList[data.chatType];\n        hander.call(this, data);\n    },\n\n   \n\n    showEmoji : function(data){\n        var emojiN         = this.chatN.getChildByName(\"emoji\");\n        emojiN.active      = true;\n        var spAnim         = emojiN.getComponent(sp.Skeleton);\n        spAnim.setAnimation(0, data.content, true);\n        emojiN.time        = 4;\n    },\n\n    showText : function(data){\n        var textN                              = this.chatN.getChildByName(\"text\");\n        textN.active                           = true;\n        var contentN                           = textN.getChildByName(\"content\");\n        contentN.getComponent(cc.Label).string = data.content;\n        var Audio = require(\"Audio\");\n        let idx = data.index + 1 < 10 ? '0' + (data.index + 1) : data.index + 1;\n        let talk, language, gameType = fun.db.getData('RoomInfo').GameType;\n        let isWenLing = gameType === gameConst.gameType.maJiangWenLing ? true : false;\n        let isMandarin = parseInt(fun.gameCfg.voiceLanguage) === gameConst.voiceLanguage.mandarin ? true : false;\n        if (isWenLing){\n            if (isMandarin) {\n                talk = '_talk1';\n                language = 'mandarin';\n            } else {\n                language = 'wlmj';\n                talk = '_talk0';\n            }\n        } else {\n            talk = '_talk0';\n            if (isMandarin) {\n                language = 'mandarin';\n            } else {\n                language = 'hymj';\n            }\n        }\n        var voiceName = talk + idx + '.mp3';\n        var sex = require(\"mjDataMgr\").getInstance().getPlayerData(this.player.PlayerIdx).Sex == 2 ? \"female\" : \"male\";\n        let voicePath = language + '/' + sex + voiceName;\n        Audio.playEffect('mahjong', voicePath);\n        textN.time = 4;\n    },\n\n    showVoice : function(data){\n        var voiceN         = this.chatN.getChildByName(\"voice\");\n        voiceN.active      = true;\n        voiceN.time        = data.length || 2;\n    },\n\n    hideAllChat : function(){\n        this.chatN.children.forEach(function(item, index){\n            item.active = false;\n        })\n    },\n\n    addBuhua : function(buhuaList){\n        this.UIControl.addBuhua(buhuaList);\n    },\n\n\n    refreshPlayerData : function(playerData){\n        this.playerInfoN.active = (playerData !== undefined);\n        this.waitN.active = (playerData === undefined);\n        if(!playerData) {return};\n        var nameNode      = this.playerInfoN.getChildByName(\"name\");\n        var scoreNode     = this.playerInfoN.getChildByName(\"sore\");\n        var scoreLabel    = scoreNode.getChildByName(\"content\").getComponent(cc.Label);\n        scoreLabel.string = playerData.xdhs || 0;\n        nameNode.getComponent(cc.Label).string = playerData.showName;\n        var imgNode = this.playerInfoN.getChildByName(\"icon\");\n        fun.utils.loadUrlRes(playerData.Icon, imgNode);\n    },\n\n    refrePlayerStatus : function(status){\n        var noCardN             = this.statusTagN.getChildByName(\"noCard\");\n        var readyN              = this.statusTagN.getChildByName(\"ready\");\n        readyN.active           = (status == GameDefine.PLAYER_READY.READY);\n        noCardN.active          = (status == GameDefine.PLAYER_READY.NO_CARD);\n        this.offLineNode.active = (status === GameDefine.PLAYER_READY.OFFLINE);\n    },  \n\n    refreGameStatus(status){\n        this.quanN.active= (status == GameDefine.TURN_STATUS.TURNTOPLAY);  \n    },\n\n    setDirection : function(direction){\n        this.directN.active = (direction == GameDefine.DIRECTION_TYPE.DONG);\n        // this.directN.getChildByName(\"dong\").active = (direction == DefineType.DONG);\n        // this.directN.getChildByName(\"nan\").active  = (direction == DefineType.NAN);\n        // this.directN.getChildByName(\"xi\").active   = (direction == DefineType.XI);\n        // this.directN.getChildByName(\"bei\").active  = (direction == DefineType.BEI);\n    },\n\n    cleanPaiNode : function(){\n        this.UIControl.removeAll();\n    },\n\n    showHuPaiAnim : function(pai, hupaiData){\n        this.showPaiEndAnim(hupaiData);\n        this.UIControl.addHupai(pai);\n       \n    },\n\n    showPaiEndAnim : function (hupaiData) {\n        var animNode = cc.instantiate(this.paiEffectPrefab);\n        this.effectZoneN.addChild(animNode);\n        animNode.getComponent(\"mjAnimHelper\").showSpeacilEndAnim(hupaiData);\n    },\n\n    //初始化玩家的座位\n    initDeskPosType (deskType, gameUI, player, paijuUIMgr){\n        this.deskType        = deskType;\n        this.gameUI          = gameUI;\n        this.paiEffectPrefab = gameUI.optEffectPrefab;\n        this.player          = player;\n        this.paijuUIMgr      = paijuUIMgr;\n        this.eatType         = \"2d\";\n        var mjPaijuMgr = require(\"mjPaijuMgr\");\n        this.UIControl = mjPaijuMgr.newChild(deskType);\n        this.UIControl.initPaiNode(this);\n    },\n\n    initRound : function(){\n        this.cleanPaiNode();\n        this.UIControl.initRound();\n    },\n     //显示玩家详情\n    onPlayerInfoClicked : function () {\n        this.player.showPlayerInfo();\n    },\n\n      //刷新玩家的信\n    showOptPaiAnim : function(eatType){\n        var animNode = cc.instantiate(this.paiEffectPrefab);\n        this.effectZoneN.addChild(animNode);\n        animNode.getComponent(\"mjAnimHelper\").showOptPaiAnim(eatType);\n    },\n\n    getInteractPos : function(){\n        return this.playerInfoN.convertToWorldSpaceAR(cc.p(0, 0));\n    },\n\n    getPaiMgr(){\n        return this.UIControl;\n    },\n\n});\n\n\n\n"]}
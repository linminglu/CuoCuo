{"version":3,"sources":["../../../../../../assets/hall/script/hall/assets/hall/script/hall/hallRenzheng.js"],"names":["Audio","require","cc","Class","extends","Component","properties","onLoad","bg","node","getChildByName","nameLayer","active","on","onBtnPhoneClick","phoneLayer","onBtnNameClick","btnObtain","onBtnObtainClick","phoneBox","getComponent","EditBox","codeBox","onBtnCloseClick","animation","Animation","clips","getClips","onDestroy","unscheduleAllCallbacks","onEnable","play","name","playEffect","length","interactable","scheduleOnce","_BtnObtainCb","bind","once","destroy"],"mappings":"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","file":"hallRenzheng.js","sourceRoot":"../../../../../../assets/hall/script/hall","sourcesContent":["let Audio = require('Audio');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n    },\n\n    onLoad () {\n        let bg = this.node.getChildByName('back');\n        this.nameLayer = bg.getChildByName('name');\n        this.nameLayer.active = false;\n        this.nameLayer.getChildByName('btnPhone').on('click', this.onBtnPhoneClick, this);\n\n        this.phoneLayer = bg.getChildByName('phone');\n        this.phoneLayer.active = true;\n        this.phoneLayer.getChildByName('btnName').on('click', this.onBtnNameClick, this);\n        this.btnObtain = this.phoneLayer.getChildByName('btnObtain');\n        this.btnObtain.on('click', this.onBtnObtainClick, this);\n        this.phoneBox = this.phoneLayer.getChildByName('inputBoxPhone').getComponent(cc.EditBox);\n        this.codeBox = this.phoneLayer.getChildByName('inputBoxCode').getComponent(cc.EditBox);\n        bg.getChildByName('btnClose').on('click', this.onBtnCloseClick, this);\n\n        this.animation = this.node.getComponent(cc.Animation);\n        this.clips = this.animation.getClips();\n    },\n\n    onDestroy () {\n        this.unscheduleAllCallbacks();\n    },\n\n    onEnable () {\n        this.animation.play(this.clips[0].name);\n    },\n\n    onBtnNameClick () {\n        Audio.playEffect('hall', 'button_nomal.mp3');\n        this.nameLayer.active = true;\n        this.phoneLayer.active = false;\n    },\n\n    onBtnPhoneClick () {\n        Audio.playEffect('hall', 'button_nomal.mp3');\n        this.nameLayer.active = false;\n        this.phoneLayer.active = true;\n    },\n\n    onBtnObtainClick () {\n        Audio.playEffect('hall', 'button_nomal.mp3');\n        if (this.phoneBox.length !== 11) {\n            return;\n        }\n        this.btnObtain.interactable = false;\n        this.scheduleOnce(this._BtnObtainCb.bind(this), 60 * 1000);\n    },\n\n    _BtnObtainCb () {\n        this.btnObtain.interactable = true;\n    },\n\n    onBtnCloseClick () {\n        Audio.playEffect('hall', 'button_close.mp3');\n        this.animation.play(this.clips[1].name).once('finished', function () {\n            this.node.destroy();\n        }, this);\n    },\n});\n"]}
{"version":3,"sources":["../../../../../../assets/mahjong/script/ui/assets/mahjong/script/ui/mjGameUI.js"],"names":["gameManager","require","GameDefine","mjDataMgr","mjNetMgr","ReconnectMgr","gameReplayMgr","log","cc","Class","extends","Component","properties","playerN","Node","paiAltas","SpriteAtlas","optEffectPrefab","Prefab","readyN","lunpanN","overallEffN","eatOptN","paiOptsPrefab","EndUI","eatPaiDetailPrefab","eatMoreOptN","popWindowN","readyUI","shengPaiPrefab","saiziPrefab","dianpaoPrefab","hupaiPrefab","chatUI","phoneStatusN","chupaiTipsN","gameCountN","totalReportCount","RichText","signleReportCount","mjVotingPopUiPrefab","gameNameN","btnRuleN","onLoad","initNodeList","initAnimEffect","initEatListPrefab","initAudio","gameInit","preload","scheduleTime","refreTimeCount","totalDtTime","uiDefaultShow","initGameManager","initReadyNode","fun","event","dispatch","flag","playMusic","reduceNode","getChildByName","caiShenShineN","directN","direct3DN","ShengpaiKuang","paiHitzone","liujuN","_timeDelay","getComponent","Label","isIntranet","gameCfg","loginUrl","gameConst","loginUrlType","intranet","active","netDelayTime","db","getData","initPhoneStatus","add","batteryStatus","bind","netStatus","onViewChange","getNetBatteryStatus","start","checkReplayData","needNetWork","update","dt","setGameCount","gameCount","curNode","parent","length","string","replace","refreRoomData","isReplayPai","startPlay","onDestroy","remove","is3DView","sys","localStorage","getItem","scaleY","paiNode","defauY","y","showChupaiTips","opacity","self","setTimeout","runAction","fadeIn","hideChupaiTips","setCaiShenPai","caishenList","paiID","paiSprite","getPaiSprite","setCaiShen","paiN","contentN","Sprite","spriteFrame","showCaiShenAnim","animManager","Animation","playAdditive","spineAnim","sp","Skeleton","completeFunc","checkEatUI","showAnimEffect","playEffect","setCompleteListener","magicName","get","KEYS","CFG","MagicName","setAnimation","showReduceNode","hdieReduceNode","init","initPaiDirection","deskType","DESKPOS_TYPE","playerList","SHANG","XIA","ZUO","YOU","initGame","gameName","spriteName","getInstance","getLocalPaiID","getSpriteFrame","gameStart","roDirectionNode","rota","rotation","children","forEach","item","cItem","cur3DDirNode","DirectionType","DIRECTION_TYPE","nodeList","DONG","XI","NAN","BEI","directionNodeList","setCurPaiDirection","dir","setDirectVisi","dirName","visi","lastDirName","hidePaiHitzone","showPaiHitzone","onUserVoted","data","_mjVotingPopUi","showVoteChoice","UserId","code","updateVotingData","instantiate","director","getScene","updateData","removeVotingPop","close","undefined","setBtnBackVisi","btnBack","showReadyNode","hideReadyNode","onEveryOneReady","hideRoomOptBtn","startReady","prepareToPlay","onBtnHintClicked","onBtnGuoChilcked","hideEatPaiN","guoPaiToServer","hideMoreChiUI","removeAllChildren","showMoreChiUI","eatPaiData","i","Comb","paiGroupN","addChild","setPosition","p","bgN","tipsN","width","onBtnChiChilcked","eatobj","sort","a","b","aSort","getSortId","bSort","chiPaiToServer","onBtnEatChilcked","eatData","eatPaiToServer","refreResidue","left","showEatPaiN","cleanEatNodeList","addEatNodeList","removeFromParent","EatPaiObj","creatEatList","cb","msName","listIndex","eatObj","dataIndex","eatPaiVisi","eeatPaiVisi","showCanEatUI","eatList","eatTag","Op","Atile","eatNode","push","cleanEatUI","showSingleReport","reportData","setSingleReportData","hideDeskStatusUI","setTotalReport","setTotalReportData","showTotalReport","cleanAlert","voteAlert","destroy","showVoteFaile","playername","content","contentStr","showShengPaiKuang","animList","checkResultAnim","onKaishiAnimEnd","AnimEffectList","animName","animNode","animHelper","showCommonAnim","showLiujuEffect","spAnim","newRound","roundData","showSaiziAnim","saizi","onSaiZiPlayEnd","child","removeChild","faPaiWithAnim","saiziData","saiZiNode","name","play","msg","isCharge","progress","status","ProgressBar","level","wifi","signal","time","state","utils","getNetDelayTime","_state","rgb","color","Color","idx","date","Date","lastMinutes","getMinutes","minutesStr","systemTime","getHours"],"mappings":"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","file":"mjGameUI.js","sourceRoot":"../../../../../../assets/mahjong/script/ui","sourcesContent":["var gameManager   = require(\"mjGameManager\");\nvar GameDefine    = require(\"mjGameDefine\");\nvar mjDataMgr     = require(\"mjDataMgr\");\nvar mjNetMgr      = require(\"mjNetMgr\");\nvar ReconnectMgr  = require(\"mjReconnectMgr\");\nvar gameReplayMgr = require(\"mjReplayMgr\");\nvar log           = cc.log;\n\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        playerN           : cc.Node,\n        paiAltas          : cc.SpriteAtlas,\n        optEffectPrefab   : cc.Prefab,\n        readyN            : cc.Node, //准备游戏UI的脚本节点,\n        lunpanN           : cc.Node, //中间的东南西北\n        overallEffN       : cc.Node, //全局特效\n        eatOptN           : cc.Node,\n        paiOptsPrefab     : cc.Prefab,\n        EndUI             : cc.Node,\n        eatPaiDetailPrefab: cc.Prefab,\n        eatMoreOptN       : cc.Node,\n        popWindowN        : cc.Node,\n        readyUI           : cc.Node,\n        shengPaiPrefab    : cc.Prefab,\n        saiziPrefab       : cc.Prefab,\n        dianpaoPrefab     : cc.Prefab,\n        hupaiPrefab       : cc.Prefab,\n        chatUI            : cc.Node,\n        phoneStatusN      : cc.Node,\n        chupaiTipsN       : cc.Node,\n        gameCountN        : cc.Node,\n        totalReportCount  : cc.RichText,\n        signleReportCount : cc.RichText, \n        mjVotingPopUiPrefab: cc.Prefab,\n        gameNameN          : cc.Node,\n        btnRuleN           : cc.Node,\n    },\n\n    onLoad : function(){\n        this.initNodeList();\n        this.initAnimEffect();\n        this.initEatListPrefab();\n        this.initAudio();\n        this.gameInit();\n        this.preload();\n        this.scheduleTime();\n        this.refreTimeCount  = 1;\n        this.totalDtTime     = 0;\n    },\n\n    gameInit(){\n        this.uiDefaultShow();\n        this.initGameManager();\n        this.initReadyNode();\n        fun.event.dispatch('Zhuanquan', {flag:false});\n\n    },\n\n\n\n    initAudio(){\n        require(\"Audio\").playMusic(\"mahjong\", \"BGM-gameUI.mp3\", true);\n     },\n\n    initNodeList : function(){\n        this.reduceNode    = this.lunpanN.getChildByName(\"residue\");\n        this.caiShenShineN = this.lunpanN.getChildByName(\"caishenShine\");\n        this.directN       = this.lunpanN.getChildByName(\"curDirection\");\n        this.direct3DN     = this.lunpanN.getChildByName(\"curDirection_3d\");\n        this.ShengpaiKuang = this.overallEffN.getChildByName(\"shengzhang\");\n        this.paiHitzone    = this.overallEffN.getChildByName(\"paiHitzone\");\n        this.liujuN        = this.overallEffN.getChildByName(\"liuju\");\n        this._timeDelay    = this.phoneStatusN.getChildByName('timeDelay').getComponent(cc.Label);\n        let isIntranet = fun.gameCfg.loginUrl === gameConst.loginUrl[gameConst.loginUrlType.intranet] ? true : false;\n        if (!isIntranet) {\n            this.phoneStatusN.getChildByName('timeDelay').active = false\n        }\n        this.netDelayTime(fun.db.getData('NetDelayTime'));\n        \n    },\n\n    uiDefaultShow(){\n        this.btnRuleN.active      = false;\n        this.lunpanN.active       = false;\n        this.chupaiTipsN.active   = false;\n        this.caiShenShineN.active = false;\n        this.paiHitzone.active    = false;\n        this.ShengpaiKuang.active = false;\n        this.liujuN.active        = false;\n    },\n\n    initPhoneStatus(){\n        fun.event.add(\"MJPhoneBattery\", \"PhoneBattery\", this.batteryStatus.bind(this));\n        fun.event.add(\"MJPhoneNet\", \"PhoneNet\", this.netStatus.bind(this));\n        fun.event.add(\"MJReconnect\", \"ReconnectInGame\", this.gameInit.bind(this));\n        fun.event.add(\"MJNetDelayTime\", \"NetDelayTime\", this.netDelayTime.bind(this));\n        fun.event.add(\"mjViewChangeMain\", \"mjViewChange\", this.onViewChange.bind(this));\n        require(\"JSPhoneNetBattery\").getNetBatteryStatus();\n        this.onViewChange();\n    },\n\n    preload(){\n        // cc.director.preloadScene(\"hall\")\n    },\n\n    start : function(){\n        this.checkReplayData();\n        if(gameManager.needNetWork()){\n            // FromPhone.baiduLocation();\n        }\n        this.initPhoneStatus();\n    },\n\n    update : function(dt){\n        this.totalDtTime += dt;\n        if(this.totalDtTime > this.refreTimeCount){\n            this.totalDtTime -= this.refreTimeCount;\n            this.scheduleTime();\n        }\n        gameManager.update(dt);\n    },\n\n    setGameCount : function(gameCount){\n        var curNode   = this.gameCountN.getChildByName(\"curCount\");\n        // var showCur   = cur;//cur > 9 ? cur : (\"0\"+cur);\n        // var showTotal = total;//total > 9 ? total : (\"0\"+total);\n        // var dis       = showCur+\"/\"+showTotal +\"<color=#B1C3C4>\"+\"圈 \"+\"</c>\" +totoalJu + \"<color=#B1C3C4>\" +\"局\" +\"</c>\"\n        curNode.parent.active = gameCount.length > 0;\n\t\tcurNode.getComponent(cc.RichText).string= gameCount;\n        this.totalReportCount.string = gameCount;\n        this.signleReportCount.string = gameCount.replace(/=#\\w+>/g, '=#615A54>');\n        this.readyUI.getComponent(\"mjReadyUI\").refreRoomData();\n    },\n\n    //检测是否回放牌局\n    checkReplayData : function(){\n        if(gameReplayMgr.isReplayPai()){\n            gameReplayMgr.startPlay();\n        }\n        // this.reduceNode.y = gameReplayMgr.isReplayPai() ? 100 : -100;    \n    },\n\n    onDestroy : function(){\n        gameManager.onDestroy();\n        fun.event.remove(\"MJPhoneNet\")\n        fun.event.remove(\"MJPhoneBattery\")\n        fun.event.remove(\"MJReconnect\")\n        fun.event.remove(\"MJNetDelayTime\")\n        fun.event.remove(\"mjViewChangeMain\");\n    },\n\n    onViewChange(){\n        let is3DView           = cc.sys.localStorage.getItem(\"mjEyeView\") ==\"3D\";\n        this.direct3DN.active  = is3DView;\n        this.directN.active    = !is3DView;\n        this.gameNameN.scaleY  = is3DView ? 0.8 : 1;\n        let paiNode = this.lunpanN.getChildByName(\"pai\");\n        paiNode.getChildByName(\"pai_2d\").active = !is3DView;\n        paiNode.getChildByName(\"pai_3d\").active = is3DView;\n        this.reduceNode.defauY = this.reduceNode.defauY || this.reduceNode.y\n        this.reduceNode.scaleY = is3DView ? 0.8 : 1;\n        this.reduceNode.y      = is3DView ? this.reduceNode.defauY + 20 : this.reduceNode.defauY;\n\n    },\n\n    showChupaiTips : function(){\n        this.chupaiTipsN.active = true;\n        this.chupaiTipsN.opacity = 0;\n        var self = this;\n        setTimeout(function(){\n            self.chupaiTipsN.runAction(cc.fadeIn(0.3));\n        }, 500)\n    },\n    hideChupaiTips : function(){\n        this.chupaiTipsN.active = false;\n    },\n\n    setCaiShenPai : function(caishenList){\n        var paiID     = caishenList[0]\n        var paiSprite = this.getPaiSprite(paiID);\n        var setCaiShen = function(paiN){\n            var contentN = paiN.getChildByName(\"content\");\n            contentN.getComponent(cc.Sprite).spriteFrame = paiSprite;\n\n        }\n        let paiNode = this.lunpanN.getChildByName(\"pai\");\n        paiNode.active = true;\n        setCaiShen(paiNode.getChildByName(\"pai_2d\"));\n        setCaiShen(paiNode.getChildByName(\"pai_3d\"));\n    },\n\n    showCaiShenAnim : function(){\n        var animManager = this.lunpanN.getComponent(cc.Animation);\n        animManager.playAdditive(\"caishenshineIn\");\n        var spineAnim = this.caiShenShineN.getComponent(sp.Skeleton);\n        this.caiShenShineN.active = true;\n        var self = this;\n        var completeFunc = function(event){\n            self.caiShenShineN.active = false;\n            self.checkEatUI();\n            self.showAnimEffect(\"AnimKaishi\");\n            require('Audio').playEffect(\"mahjong\", \"start.mp3\");\n        }\n        spineAnim.setCompleteListener(completeFunc);\n        var magicName = mjDataMgr.get(mjDataMgr.KEYS.CFG).MagicName;\n        spineAnim.setAnimation(0, magicName, false);\n        require('Audio').playEffect(\"mahjong\", \"caishen.mp3\");\n    },\n\n    showReduceNode : function(){\n        this.reduceNode.active = true;\n    },\n\n    hdieReduceNode : function(){\n        this.reduceNode.active = false;\n    },\n\n    initGameManager : function(){\n        mjDataMgr.init( gameReplayMgr.isReplayPai() );\n        mjNetMgr.init();\n        this.initPaiDirection();\n        var deskType   = GameDefine.DESKPOS_TYPE\n        var playerList = {};\n        playerList[deskType.SHANG] = this.playerN.getChildByName(\"shang\");\n        playerList[deskType.XIA]   = this.playerN.getChildByName(\"xia\");\n        playerList[deskType.ZUO]   = this.playerN.getChildByName(\"zuo\");\n        playerList[deskType.YOU]   = this.playerN.getChildByName(\"you\");\n        gameManager.initGame(playerList, this);\n        //set game name in bg node\n        this.gameNameN.getComponent(cc.Label).string = mjDataMgr.get(\"CfgData\").gameName;\n    },\n\n\n\n\n    getPaiSprite : function(paiID){\n        var spriteName  = \"pj_\"+ mjDataMgr.getInstance().getLocalPaiID(paiID);\n        var spriteFrame = this.paiAltas.getSpriteFrame(spriteName);\n        return spriteFrame;\n    },\n\n    //开始打麻将\n    gameStart : function(){\n        this.lunpanN.active = true;\n        this.btnRuleN.active = true;\n    },\n\n\n    //旋转中间的轮盘\n    roDirectionNode : function(rota){\n        this.directN.getChildByName(\"content\").rotation   = rota;\n        this.direct3DN.children.forEach(function(item){\n            item.active = false;\n            item.children.forEach(function(cItem){\n                cItem.active = false;\n            })\n        })\n        this.cur3DDirNode = this.direct3DN.getChildByName(\"bg_\" + rota/ 90);\n        this.cur3DDirNode.active = true;\n    },\n\n    initPaiDirection  : function(){\n        var DirectionType            = GameDefine.DIRECTION_TYPE;\n        var nodeList                 = {};\n        nodeList[DirectionType.DONG] = \"dong\";\n        nodeList[DirectionType.XI]   = \"xi\";  \n        nodeList[DirectionType.NAN]  = \"nan\"; \n        nodeList[DirectionType.BEI]  = \"bei\";\n        this.directionNodeList       = nodeList;\n    },\n\n    //获取当前方向N\n    setCurPaiDirection : function(dir){\n        var setDirectVisi= function(dirName = \"dong\", visi){\n            this.directN.getChildByName(\"content\").getChildByName(dirName).active = visi;\n            this.cur3DDirNode.getChildByName(dirName).active = visi;\n        }.bind(this)\n        var dirName              = this.directionNodeList[dir];\n        setDirectVisi(this.lastDirName, false);\n        setDirectVisi(dirName, true);\n        this.lastDirName = dirName;\n    },\n\n\n\n    hidePaiHitzone : function(){\n        this.paiHitzone.active = false;\n    },\n    showPaiHitzone : function(){\n        this.paiHitzone.active = true;\n    },\n    onUserVoted : function(data){\n        if(!this._mjVotingPopUi) {return};\n        this._mjVotingPopUi.getComponent('mjVotingPopUI').showVoteChoice(data.UserId, data.code);\n    },\n\n    updateVotingData: function(data) {\n        if (!this._mjVotingPopUi) {\n            this._mjVotingPopUi = cc.instantiate(this.mjVotingPopUiPrefab);\n            this._mjVotingPopUi.parent = cc.director.getScene().getChildByName('Canvas');\n        }\n        this._mjVotingPopUi.getComponent('mjVotingPopUI').updateData(data);\n    },\n\n    removeVotingPop: function() {\n        if(!this._mjVotingPopUi) {return};\n        this._mjVotingPopUi.getComponent('mjVotingPopUI').close();\n        this._mjVotingPopUi = undefined;\n    },\n\n    setBtnBackVisi : function(visi){\n        this.btnBack.active = visi;\n    },\n\n    initReadyNode : function(){\n        this.readyN.active  = false;\n        if(gameReplayMgr.isReplayPai()){\n            return\n        }\n        this.readyUI.getComponent(\"mjReadyUI\").refreRoomData();\n        this.showReadyNode();\n    },\n\n    showReadyNode : function(){\n        this.lunpanN.active = false;\n        this.btnRuleN.active = false;\n        this.readyN.active  = true;\n    },\n    hideReadyNode : function(){\n        this.readyUI.getComponent(\"mjReadyUI\").onEveryOneReady();\n    },\n\n    hideRoomOptBtn : function(){\n        this.readyUI.getComponent(\"mjReadyUI\").hideRoomOptBtn();\n    },\n\n    startReady : function(){\n        this.readyUI.getComponent(\"mjReadyUI\").prepareToPlay();\n    },\n\n    //只能提示\n    onBtnHintClicked : function(){\n\n    },\n\n\n\n    //过牌\n    onBtnGuoChilcked : function(){\n        this.hideEatPaiN();\n        gameManager.guoPaiToServer();\n    },\n\n    hideMoreChiUI : function(){\n        this.eatMoreOptN.getChildByName(\"content\").removeAllChildren();\n        this.eatMoreOptN.active = false;\n    },\n    //have more eat pai choice\n    showMoreChiUI : function(eatPaiData){\n        this.eatMoreOptN.active = true;\n        for(let i =0; i< eatPaiData.Comb.length; i++){\n            var paiGroupN = cc.instantiate(this.eatPaiDetailPrefab);\n            this.eatMoreOptN.getChildByName(\"content\").addChild(paiGroupN);\n            paiGroupN.setPosition(cc.p(i * -200 - 100, 5))\n            paiGroupN.getComponent(\"mjChiDetailUI\").init(this,\n                eatPaiData.Comb[i], eatPaiData);\n        }\n        var bgN = this.eatMoreOptN.getChildByName(\"bg\");\n        // var bg_1N = this.eatMoreOptN.getChildByName(\"bg_1\");\n        var tipsN = this.eatMoreOptN.getChildByName(\"bg_0\");\n        tipsN.setPosition(eatPaiData.Comb.length * -200, 0);\n        bgN.width = eatPaiData.Comb.length * 200 + 85; \n        // bg_1N.width = eatPaiData.Comb.length * 200 + 85; \n\n    },\n\n    //吃牌\n    onBtnChiChilcked : function(eatobj, eatPaiData){\n        this.hideEatPaiN();\n        if(eatPaiData.Comb.length > 1){\n            eatPaiData.Comb.sort(function(a, b){\n                // var a = gameManager.sortGroupPai(a);\n                // var b = gameManager.sortGroupPai(b);\n                var aSort = gameManager.getSortId(a[1]);\n                var bSort = gameManager.getSortId(b[1]);\n                return bSort - aSort;\n            })\n            this.showMoreChiUI(eatPaiData);\n        }else {\n            gameManager.chiPaiToServer(eatPaiData, eatPaiData.Comb[0]);\n        }\n        \n    },\n    \n    //碰杠胡牌\n    onBtnEatChilcked : function(eatobj, eatData){\n        this.hideEatPaiN();\n        gameManager.eatPaiToServer(eatobj, eatData);\n    },\n\n    //refresh the rest of pai count\n    refreResidue : function(left){\n        this.reduceNode.getComponent(cc.Label).string = left;\n    },\n\n    showEatPaiN : function(){\n        this.eatOptN.active = true;\n        this.cleanEatNodeList();\n    },\n\n    cleanEatNodeList : function(){\n        this.addEatNodeList.forEach(function(item){\n            item.removeFromParent();\n        })\n        this.addEatNodeList = [];\n    },\n\n    hideEatPaiN : function(){\n        this.eatOptN.active = false;\n        this.cleanEatNodeList();\n    },\n\n\n    //初始化吃牌UI\n    initEatListPrefab : function(){\n        this.EatPaiObj = [];\n        this.addEatNodeList = [];\n        this.hideEatPaiN();\n        var self = this;\n        //PuTongHu  = 0 //MingGang2 = 1 //PengPai   = 2\n        //ChiPai    = 3 //ZiMoHu    = 4 //AnGang    = 5\n        //MingGang1 = 6 //QiangGang = 7 //guo       = 8 \n        var creatEatList = function(cb, msName, listIndex){\n            var eatObj = {cb : cb, msName : msName, dataIndex : listIndex};\n            self.EatPaiObj[listIndex] = eatObj;\n        }\n        creatEatList(this.onBtnEatChilcked, \"PuTongHuPaiMessageNum\", 0);\n        creatEatList(this.onBtnEatChilcked, \"MingGang2PaiMessageNum\", 1);\n        creatEatList(this.onBtnEatChilcked, \"PengPaiMessageNum\", 2);\n        creatEatList(this.onBtnChiChilcked, \"ChiPaiMessageNum\", 3);\n        creatEatList(this.onBtnEatChilcked, \"ZiMoHuPaiMessageNum\", 4);\n        creatEatList(this.onBtnEatChilcked, \"AnGangPaiMessageNum\", 5);\n        creatEatList(this.onBtnEatChilcked, \"MingGang1PaiMessageNum\", 6);\n        creatEatList(this.onBtnEatChilcked, \"QiangGangMessageNum\", 7);\n        creatEatList(this.onBtnGuoChilcked, \"\", 8);\n    },\n\n    checkEatUI : function(){\n        if(this.eatPaiVisi){\n            this.eeatPaiVisi = undefined;\n            this.eatOptN.active = true;\n        }\n    },\n\n    // 显示玩家对当前牌局上打的牌的课操作列表\n    showCanEatUI : function(eatList){\n        this.showEatPaiN();\n        // eatList = [8, 0, 1, 2 ,3]\n        for(let i = 0; i < eatList.length; i++){\n            var eatTag  = eatList[i].Op;\n            var eatObj  = this.EatPaiObj[eatTag];\n            eatObj.paiID= eatList[i].Atile//gameManager.getEatPaiId(eatObj.dataIndex);\n            var eatNode = cc.instantiate(this.paiOptsPrefab); \n            this.eatOptN.addChild(eatNode);\n            eatNode.setPosition(cc.p((i+1)*-240  + eatList.length * 50, 120));\n            eatNode.getComponent(\"mjOptsUI\").init(this, eatObj, eatList[i]);\n            this.addEatNodeList.push(eatNode);\n        }\n        if(this.caiShenShineN.active){\n            this.eatOptN.active = false;\n            this.eatPaiVisi = true;\n            return;\n        }\n    },\n\n    cleanEatUI : function(){\n        this.hideEatPaiN();\n        this.hideMoreChiUI();\n    },\n\n    \n\n\n    //show curent round report data\n    showSingleReport : function(reportData){\n        this.EndUI.getComponent(\"mjEndUI\").setSingleReportData(reportData, this);\n        this.EndUI.getComponent(\"mjEndUI\").showSingleReport();\n        this.hideDeskStatusUI();\n        this.hideChupaiTips();\n    },\n\n    setTotalReport : function(reportData){\n        this.EndUI.getComponent(\"mjEndUI\").setTotalReportData(reportData, this);\n    },\n\n    showTotalReport : function(){\n        this.EndUI.getComponent(\"mjEndUI\").showTotalReport();\n        this.hideDeskStatusUI();\n    },\n\n\n    cleanAlert : function(){\n        var voteAlert = this.popWindowN.getChildByName(\"voteFaile\");\n        if(voteAlert){\n            voteAlert.destroy();\n        }\n    },\n\n    showVoteFaile : function(playername){\n        var content   = \"玩家 [\"+ playername  + \"] 拒绝,解散房间失败\";\n        fun.event.dispatch('MinSingleButtonPop', {contentStr: content});\n    },\n\n    \n    showShengPaiKuang : function(){\n        this.ShengpaiKuang.active = true;\n    }, \n\n    hideDeskStatusUI  : function(){\n        this.lunpanN.getChildByName(\"pai\").active = false;\n        this.ShengpaiKuang.active                 = false;\n    },\n\n    initAnimEffect : function(){\n        var animList             = {};\n        animList[\"AnimShengpai\"] = this.showShengPaiKuang.bind(this);\n        animList[\"AnimLiuju\"]    = gameManager.checkResultAnim.bind(gameManager);\n        animList[\"AnimKaishi\"]   = gameManager.onKaishiAnimEnd.bind(gameManager);\n        this.AnimEffectList      = animList;\n    },\n\n    showAnimEffect : function(animName){\n        cc.log(\"--showAnimEffect---\", animName);\n        var animNode   = cc.instantiate(this.shengPaiPrefab);\n        this.overallEffN.addChild(animNode);\n        var animHelper = animNode.getComponent(\"mjAnimHelper\");\n        animHelper.showCommonAnim(animName, this.AnimEffectList[animName]);\n    },\n\n    showLiujuEffect(){\n        cc.log(\"showLiujuEffect\")\n        this.liujuN.active = true;\n        var spAnim = this.liujuN.getComponent(sp.Skeleton)\n        spAnim.setAnimation(0, \"AnimLiuju\", false);;\n        var completeFunc = function(event){\n            this.liujuN.active = false;\n            gameManager.checkResultAnim();\n        }.bind(this)\n        spAnim.setCompleteListener(completeFunc);\n    },\n    \n\n    newRound(roundData={}){\n        this.showSaiziAnim(roundData.saizi);\n        this.hideReadyNode();\n    },\n\n    onSaiZiPlayEnd : function(){\n        var child = this.overallEffN.getChildByName(\"saizi\");\n        this.overallEffN.removeChild(child);\n        this.showReduceNode();\n        gameManager.faPaiWithAnim();\n    }, \n\n    showSaiziAnim : function(saiziData){\n        var  saiZiNode = cc.instantiate(this.saiziPrefab);\n        saiZiNode.name = \"saizi\";\n        saiZiNode.setPosition(cc.p(0, 0));\n        this.overallEffN.addChild(saiZiNode);\n        saiZiNode.getComponent(\"mjSaiziUI\").play(saiziData, this.onSaiZiPlayEnd, this);\n        require('Audio').playEffect(\"mahjong\", \"touzi.mp3\");\n    },\n     //-- 电池状态\n    batteryStatus: function(msg){\n        let isCharge = this.phoneStatusN.getChildByName(\"charge\");\n        let progress = this.phoneStatusN.getChildByName(\"battery\");\n        isCharge.active = (msg.status === 0 || msg.status === 1) ? false : true;\n        progress.getComponent(cc.ProgressBar).progress = msg.level/100; \n    },\n\n    //-- 网络状态\n    netStatus: function(msg){\n        let wifi = this.phoneStatusN.getChildByName(\"wifi\");\n        let signal = this.phoneStatusN.getChildByName(\"signal\");\n        if (msg.status === 5){\n            wifi.active = true;\n            signal.active = false;\n        } else {\n            wifi.active = false;\n            signal.active = true;\n        }\n    },\n\n    //-- 网络延时 单位:毫秒\n    netDelayTime : function(time){\n        this._timeDelay.string = time;\n        let state = fun.utils.getNetDelayTime(time);\n        if(this._state){\n            if(this._state === state.rgb)\n                return;\n            else\n                this._state = state.rgb;\n        } else {\n            this._state = state.rgb;\n        }\n        let wifi = this.phoneStatusN.getChildByName(\"wifi\");\n        let signal = this.phoneStatusN.getChildByName(\"signal\");\n        for(let i=1; i<=5; ++i){\n            signal.getChildByName('pk_signal_'+i).color = new cc.Color(state.rgb);\n            signal.getChildByName('pk_signal_'+i).active = false;\n            if (i<5){\n                wifi.getChildByName('pk_wifi_'+i).color = new cc.Color(state.rgb);\n                wifi.getChildByName('pk_wifi_'+i).active = false;\n            }\n        }\n        wifi.getChildByName('pk_wifi_'+(state.idx+1)).active = true;\n        signal.getChildByName('pk_signal_'+(state.idx+2)).active = true;\n    },\n\n    scheduleTime : function(){\n        var time = this.phoneStatusN.getChildByName(\"time\");\n        var date = new Date();\n        this.lastMinutes = this.lastMinutes || date.getMinutes();\n        var minutesStr = date.getMinutes() < 10 ? \"0\"+ date.getMinutes() : date.getMinutes();\n        var systemTime = date.getHours() + \":\" + minutesStr\n        if(this.lastMinutes < date.getMinutes() && this.refreTimeCount == 1){\n            this.refreTimeCount = 30;\n        }\n        this.lastMinutes = date.getMinutes();\n        time.getComponent(cc.Label).string = systemTime;\n    },\n\n});\n"]}